{
	"info": {
		"_postman_id": "8476aa2f-bdb3-489f-b165-c389bf09d9d2",
		"name": "GunaSmash",
		"description": "# üìò Dokumentasi API ‚Äî **GunaSmash**\n\n> Backend sistem manajemen UKM Bulutangkis **GunaSmash**.  \nAPI berbasis REST menggunakan **ExpressJS + TypeScript + Prisma (MongoDB)**, dilengkapi **autentikasi JWT (Access Token & Refresh Token)**, **Role-Based Access Control (RBAC)**, dan dukungan untuk **upload gambar (Cloudinary)**. \n  \n\n---\n\n## üîß Informasi Dasar\n\n- **Base URL (local)** : `http://localhost:4000`\n    \n- **Endpoint utama (Health Check)** : `GET /`  \n    Menampilkan informasi dasar aplikasi:\n    \n    ``` json\n    {\n      \"success\": true,\n      \"data\": {\n        \"name\": \"BE GunaSmash API\",\n        \"status\": \"ok\",\n        \"environment\": \"development\",\n        \"version\": \"1.0.0\",\n        \"uptime\": \"10.25s\",\n        \"timestamp\": \"2025-11-03T14:00:00Z\"\n      }\n    }\n    \n     ```\n    \n\n---\n\n## üîê Autentikasi\n\n### Jenis Token\n\n- **Access Token** dikirim melalui header:\n    \n    ```\n    Authorization: Bearer <access_token>\n    \n     ```\n    \n- **Refresh Token** disimpan sebagai cookie `refreshToken` (HttpOnly).\n    \n\n### Hak Akses\n\n| Role | Deskripsi |\n| --- | --- |\n| `ADMIN` | Akses penuh ke seluruh fitur |\n| `MEMBER` | Akses terbatas (contoh: absensi, melihat pengumuman) |\n\n---\n\n## üß± Format Respons Standar\n\n``` json\n// Jika berhasil\n{ \"success\": true, \"data\": <payload> }\n// Jika gagal (umum)\n{ \"success\": false, \"error\": { \"message\": \"Pesan error\" } }\n// Jika gagal (validasi dari Zod)\n{ \"success\": false, \"error\": { \"fieldErrors\": { ... }, \"formErrors\": [] } }\n\n ```\n\n---\n\n## üîç Parameter Umum untuk List Data\n\nEndpoint `GET` dengan data list mendukung parameter berikut:\n\n| Nama | Tipe | Default | Deskripsi |\n| --- | --- | --- | --- |\n| `page` | number | 1 | Halaman data |\n| `limit` | number | 10 | Jumlah item per halaman (maks 100) |\n| `search` | string | \\- | Pencarian teks |\n| `sort` | string | \\- | Format: `field:asc` atau `field:desc` |\n| `filter` | JSON | \\- | Filter tambahan, contoh: `?filter={\"role\":\"MEMBER\"}` |\n\nContoh hasil:\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"items\": [...],\n    \"meta\": { \"total\": 42, \"page\": 1, \"limit\": 10, \"pages\": 5 }\n  }\n}\n\n ```\n\n---",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "14021625"
	},
	"item": [
		{
			"name": "Stats",
			"item": [
				{
					"name": "Global Stats",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('2xx/3xx', () => pm.expect(pm.response.code).to.be.within(200,399));",
									"const j = pm.response.json();",
									"pm.test('success', () => pm.expect(j.success).to.be.true);",
									"pm.test('has users', () => pm.expect(j.data.users.total).to.be.a('number'));",
									"pm.test('has blogs', () => pm.expect(j.data.blogs.total).to.be.a('number'));"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"stats"
							]
						}
					},
					"response": [
						{
							"name": "Global Stats",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/stats",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"stats"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "201"
								},
								{
									"key": "ETag",
									"value": "W/\"c9-2PN9ZQJ+cymBT8LGgop21sMfsIo\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:09:03 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"users\": {\n            \"total\": 21,\n            \"admins\": 5,\n            \"members\": 16\n        },\n        \"announcements\": {\n            \"total\": 22\n        },\n        \"blogs\": {\n            \"total\": 20,\n            \"published\": 11,\n            \"unpublished\": 9\n        },\n        \"sessions\": {\n            \"total\": 2,\n            \"today\": 2,\n            \"upcomingOpen\": 2\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Attendance Stats by Session",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"if (!pm.environment.get('announcement_id')) {",
									"  pm.expect.fail('announcement_id kosong. Jalankan Flow ‚Ä¢ Member Check-In atau Helper ‚Ä¢ Ensure AnnouncementId dulu.');",
									"}"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('2xx/3xx', () => pm.expect(pm.response.code).to.be.within(200,399));",
									"const j = pm.response.json();",
									"pm.test('success', () => pm.expect(j.success).to.be.true);",
									"pm.test('counts shape', () => {",
									"  pm.expect(j.data.counts).to.have.property('present');",
									"  pm.expect(j.data.counts).to.have.property('late');",
									"  pm.expect(j.data.counts).to.have.property('excused');",
									"  pm.expect(j.data.counts).to.have.property('absent');",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/stats/attendance?announcementId={{announcement_id}}&date={{session_date}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"stats",
								"attendance"
							],
							"query": [
								{
									"key": "announcementId",
									"value": "{{announcement_id}}"
								},
								{
									"key": "date",
									"value": "{{session_date}}"
								}
							]
						}
					},
					"response": [
						{
							"name": "Attendance Stats by Session",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/stats/attendance?announcementId=&date=",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"stats",
										"attendance"
									],
									"query": [
										{
											"key": "announcementId",
											"value": ""
										},
										{
											"key": "date",
											"value": ""
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "114"
								},
								{
									"key": "ETag",
									"value": "W/\"72-LPErrvz5xcjS1+ZC0gCOExEy93U\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:58:49 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"session\": null,\n        \"counts\": {\n            \"present\": 0,\n            \"late\": 0,\n            \"excused\": 0,\n            \"absent\": 16\n        },\n        \"totalMembers\": 16\n    }\n}"
						}
					]
				}
			],
			"description": "\n\n## üßæ 1. Folder: **Stats**\n\nFolder **Stats** berisi endpoint untuk menampilkan **data statistik sistem GunaSmash** secara keseluruhan dan statistik absensi per sesi latihan.\nSemua endpoint di dalam folder ini hanya dapat diakses oleh **ADMIN**, karena berhubungan dengan data agregat seluruh anggota.\n\nTujuan utama folder ini adalah:\n\n* Menyediakan ringkasan global seperti total pengguna, jumlah blog, jumlah pengumuman, dan sesi latihan yang sedang berjalan.\n* Menampilkan laporan absensi berdasarkan jadwal latihan tertentu (`announcementId` dan tanggalnya).\n\nDengan data ini, admin dapat:\n\n* Melihat pertumbuhan aktivitas UKM (jumlah anggota, blog, sesi latihan, dsb).\n* Mengevaluasi tingkat kehadiran anggota di setiap jadwal latihan.\n\n---\n\n## üìä 2. Endpoint: **GET `/api/stats` ‚Üí Global Stats**\n\n### üìù Deskripsi\n\nEndpoint ini digunakan untuk menampilkan **statistik global seluruh sistem GunaSmash**, meliputi total pengguna, pengumuman, blog, dan data sesi absensi.\n\nHanya **admin** yang dapat mengakses endpoint ini.\n\n---\n\n### üîë Hak Akses\n\n`ADMIN`\n\n---\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/stats`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n```\n\nTidak memerlukan body atau query parameter.\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"users\": {\n      \"total\": 20,\n      \"admins\": 2,\n      \"members\": 18\n    },\n    \"announcements\": {\n      \"total\": 5\n    },\n    \"blogs\": {\n      \"total\": 10,\n      \"published\": 8,\n      \"unpublished\": 2\n    },\n    \"sessions\": {\n      \"total\": 7,\n      \"today\": 1,\n      \"upcomingOpen\": 0\n    }\n  }\n}\n```\n\n---\n\n### üìò Penjelasan Field\n\n| Field                   | Deskripsi                                                               |\n| ----------------------- | ----------------------------------------------------------------------- |\n| `users.total`           | Jumlah seluruh pengguna terdaftar                                       |\n| `users.admins`          | Jumlah admin aktif                                                      |\n| `users.members`         | Jumlah anggota UKM                                                      |\n| `announcements.total`   | Total pengumuman yang pernah dibuat                                     |\n| `blogs.total`           | Total artikel/blog yang pernah dibuat                                   |\n| `blogs.published`       | Jumlah blog yang sudah dipublikasikan                                   |\n| `blogs.unpublished`     | Blog yang belum diterbitkan                                             |\n| `sessions.total`        | Total sesi latihan yang tercatat di sistem                              |\n| `sessions.today`        | Jumlah sesi latihan yang berlangsung hari ini                           |\n| `sessions.upcomingOpen` | Sesi latihan yang sudah dijadwalkan tapi belum ditutup (state = `OPEN`) |\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status                      | Penyebab                          |\n| --------------------------- | --------------------------------- |\n| `401 Unauthorized`          | Tidak ada atau token tidak valid  |\n| `403 Forbidden`             | Role pengguna bukan admin         |\n| `500 Internal Server Error` | Kesalahan tak terduga dari server |\n\n---\n\n## üóìÔ∏è 3. Endpoint: **GET `/api/stats/attendance` ‚Üí Attendance Stats by Session**\n\n### üìù Deskripsi\n\nEndpoint ini menampilkan **statistik absensi berdasarkan satu jadwal latihan (announcement)** dan **tanggal tertentu**.\nAdmin dapat mengetahui berapa banyak anggota yang hadir, terlambat, izin, atau tidak hadir pada sesi tersebut.\n\n---\n\n### üîë Hak Akses\n\n`ADMIN`\n\n---\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/stats/attendance`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n```\n\n**Query Parameters:**\n\n| Nama             | Wajib | Contoh                     | Deskripsi                                                                   |\n| ---------------- | ----- | -------------------------- | --------------------------------------------------------------------------- |\n| `announcementId` | ‚úÖ     | `6726e9a8b59d3a8df02f00ab` | ID dari pengumuman (jadwal latihan)                                         |\n| `date`           | ‚ùå     | `2025-11-03`               | (Opsional) Tanggal spesifik. Jika tidak diisi, menggunakan tanggal hari ini |\n\nContoh URL:\n\n```\n/api/stats/attendance?announcementId=6726e9a8b59d3a8df02f00ab&date=2025-11-03\n```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"session\": {\n      \"id\": \"6730abde2c05b979d96f4e41\",\n      \"date\": \"2025-11-03T00:00:00.000Z\",\n      \"state\": \"OPEN\",\n      \"openedAt\": \"2025-11-03T06:30:00.000Z\",\n      \"closedAt\": null\n    },\n    \"counts\": {\n      \"present\": 12,\n      \"late\": 1,\n      \"excused\": 2,\n      \"absent\": 5\n    },\n    \"totalMembers\": 20\n  }\n}\n```\n\n---\n\n### üìò Penjelasan Field\n\n| Field              | Deskripsi                                                       |\n| ------------------ | --------------------------------------------------------------- |\n| `session.id`       | ID sesi absensi                                                 |\n| `session.date`     | Tanggal sesi absensi                                            |\n| `session.state`    | Status sesi (`OPEN` atau `CLOSED`)                              |\n| `session.openedAt` | Waktu pertama kali sesi dibuat (otomatis saat check-in pertama) |\n| `session.closedAt` | Waktu sesi ditutup (jika sudah selesai)                         |\n| `counts.present`   | Jumlah anggota yang hadir                                       |\n| `counts.late`      | Jumlah anggota yang terlambat                                   |\n| `counts.excused`   | Jumlah anggota yang izin                                        |\n| `counts.absent`    | Jumlah anggota yang tidak hadir                                 |\n| `totalMembers`     | Total anggota UKM (role MEMBER) saat itu                        |\n\n---\n\n### üìâ Contoh Respons Jika Tidak Ada Sesi\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"session\": null,\n    \"counts\": {\n      \"present\": 0,\n      \"late\": 0,\n      \"excused\": 0,\n      \"absent\": 20\n    },\n    \"totalMembers\": 20\n  }\n}\n```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status                      | Penyebab                                        |\n| --------------------------- | ----------------------------------------------- |\n| `400 Bad Request`           | Format tanggal tidak valid (bukan `YYYY-MM-DD`) |\n| `401 Unauthorized`          | Token tidak valid atau tidak disertakan         |\n| `403 Forbidden`             | Pengguna bukan admin                            |\n| `404 Not Found`             | Announcement ID tidak ditemukan                 |\n| `500 Internal Server Error` | Kesalahan server                                |\n\n---\n\n"
		},
		{
			"name": "Auth",
			"item": [
				{
					"name": "Sign Up (random user)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"function rand(n){ return Math.random().toString(36).substring(2, 2+n); }",
									"function nowSlug(){ return Date.now().toString(36); }",
									"let fStr = pm.globals.get('factory_user');",
									"let data;",
									"try {",
									"  const f = eval(fStr);",
									"  data = (typeof f === 'function') ? f() : f;",
									"} catch (e) {",
									"const fallback = { name: 'User ' + rand(6), email: 'user+' + nowSlug() + '@example.com', password: 'password123' };",
									"  data = fallback;",
									"}",
									"pm.variables.set('payload', JSON.stringify(data));"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = pm.response.json().data;",
									"pm.environment.set('access_token', data.accessToken || data.access_token);",
									"pm.environment.set('email', data.user.email);",
									"pm.environment.set('user_id', data.user.id);",
									"pm.test('user includes role', ()=> pm.expect(['ADMIN','MEMBER']).to.include(data.user.role));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{payload}}"
						},
						"url": {
							"raw": "{{base_url}}/auth/sign-up",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"sign-up"
							]
						}
					},
					"response": [
						{
							"name": "Sign Up (random user)",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{payload}}"
								},
								"url": {
									"raw": "http://localhost:4000/api/auth/sign-up",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"sign-up"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Set-Cookie",
									"value": "refreshToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA5NGZkOGU0YzY0OTA3Y2U4NTkxN2IiLCJyb2xlIjoiTUVNQkVSIiwiaWF0IjoxNzYyMjE3OTQ0LCJleHAiOjE3NjI4MjI3NDR9.u_Cvr-FshJc10GsyxLrxLsAa7pcG87rUXADSqMgxeRE; Path=/; HttpOnly; SameSite=Lax"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "349"
								},
								{
									"key": "ETag",
									"value": "W/\"15d-EQaXtyK2V6jIeTez0gawBFd2AYo\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:59:04 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA5NGZkOGU0YzY0OTA3Y2U4NTkxN2IiLCJyb2xlIjoiTUVNQkVSIiwiaWF0IjoxNzYyMjE3OTQ0LCJleHAiOjE3NjIyMTg4NDR9._HBDnQXShDZLIEQQg0S7T_wSgRUor8bIXwTx-sXcgig\",\n        \"user\": {\n            \"id\": \"69094fd8e4c64907ce85917b\",\n            \"name\": \"User aiywxi\",\n            \"email\": \"user+mhjv2cce@example.com\",\n            \"role\": \"MEMBER\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Sign In (admin)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const email = pm.environment.get('admin_email') || 'zidanindratama03@gmail.com';",
									"const password = pm.environment.get('admin_password') || 'password123';",
									"pm.variables.set('payload', JSON.stringify({ email, password }));"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = pm.response.json().data;",
									"pm.environment.set('access_token', data.accessToken || data.access_token);",
									"pm.environment.set('admin_access_token', data.accessToken || data.access_token);",
									"pm.environment.set('email', data.user.email);",
									"pm.environment.set('user_id', data.user.id);",
									"pm.test('role is ADMIN', ()=> pm.expect(data.user.role).to.equal('ADMIN'));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{payload}}"
						},
						"url": {
							"raw": "{{base_url}}/auth/sign-in",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"sign-in"
							]
						},
						"description": "Sign in as seeded admin (Zidan). Uses env admin_email/admin_password or defaults."
					},
					"response": [
						{
							"name": "Sign In (admin)",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{payload}}"
								},
								"url": {
									"raw": "http://localhost:4000/api/auth/sign-in",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"sign-in"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Set-Cookie",
									"value": "refreshToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA4NTg3NmYxMGRlZWM5ZWJmYmQzMGUiLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjIyMTc4NDIsImV4cCI6MTc2MjgyMjY0Mn0.4O_5B9tMksxlXTHIWqO-VIXT5taSLVFfBWbr_PElrOU; Path=/; HttpOnly; SameSite=Lax"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "360"
								},
								{
									"key": "ETag",
									"value": "W/\"168-jsktU4h5r/PPk434FJTkfHxDH68\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:57:22 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA4NTg3NmYxMGRlZWM5ZWJmYmQzMGUiLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjIyMTc4NDIsImV4cCI6MTc2MjIxODc0Mn0.dMaDpyMHsh4SeQSX8gyNt1EeeWNVs3-0DYbgXwFCN60\",\n        \"user\": {\n            \"id\": \"69085876f10deec9ebfbd30e\",\n            \"name\": \"Muhamad Zidan Indratama\",\n            \"email\": \"zidanindratama03@gmail.com\",\n            \"role\": \"ADMIN\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Sign In",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = pm.response.json().data;",
									"pm.environment.set('access_token', data.accessToken || data.access_token);",
									"pm.test('access_token saved', ()=> pm.expect(pm.environment.get('access_token')).to.be.a('string').and.not.empty);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\":\"{{email}}\",\"password\":\"{{password}}\"}"
						},
						"url": {
							"raw": "{{base_url}}/auth/sign-in",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"sign-in"
							]
						}
					},
					"response": [
						{
							"name": "Sign In",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"email\":\"admin+1762142772@example.com\",\"password\":\"password123\"}"
								},
								"url": {
									"raw": "http://localhost:4000/api/auth/sign-in",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"sign-in"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Set-Cookie",
									"value": "refreshToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA5NGZkOGU0YzY0OTA3Y2U4NTkxN2IiLCJyb2xlIjoiTUVNQkVSIiwiaWF0IjoxNzYyMjE3OTU3LCJleHAiOjE3NjI4MjI3NTd9.FmQnxeCZrO4w8Bn1cgwMQCIETfa0LTW2CR_-miUcB5Q; Path=/; HttpOnly; SameSite=Lax"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "349"
								},
								{
									"key": "ETag",
									"value": "W/\"15d-ubJHMQNZDrXfTmEhk3OSG8c3s9Q\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:59:17 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA5NGZkOGU0YzY0OTA3Y2U4NTkxN2IiLCJyb2xlIjoiTUVNQkVSIiwiaWF0IjoxNzYyMjE3OTU3LCJleHAiOjE3NjIyMTg4NTd9.NOVpkE_YAYQjzoT4AqchwR6df_H7eLGGKfs21bjFyaM\",\n        \"user\": {\n            \"id\": \"69094fd8e4c64907ce85917b\",\n            \"name\": \"User aiywxi\",\n            \"email\": \"user+mhjv2cce@example.com\",\n            \"role\": \"MEMBER\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = pm.response.json().data;",
									"if (data && (data.accessToken || data.access_token)) {",
									"  pm.environment.set('access_token', data.accessToken || data.access_token);",
									"}",
									"pm.test('refreshed access token present', ()=> pm.expect(pm.environment.get('access_token')).to.be.a('string'));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"refresh"
							]
						},
						"description": "Requires cookie jar to include refreshToken (set via sign-in/up)."
					},
					"response": [
						{
							"name": "Refresh Token",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/auth/refresh",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"refresh"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Set-Cookie",
									"value": "refreshToken=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA5NGZhMjE2Mjc0OWU0NmE5ZmI4MTkiLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjIyMTc5NjgsImV4cCI6MTc2MjgyMjc2OH0.KUK0CKSB-eMeYnPrAUp3Q0XFLPu42YkjU7x9RRdz73A; Path=/; HttpOnly; SameSite=Lax"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "360"
								},
								{
									"key": "ETag",
									"value": "W/\"168-w1xiaYsnk0GTirhDbOMBzypqhqo\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:59:28 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2OTA5NGZhMjE2Mjc0OWU0NmE5ZmI4MTkiLCJyb2xlIjoiQURNSU4iLCJpYXQiOjE3NjIyMTc5NjgsImV4cCI6MTc2MjIxODg2OH0.yEMnM1R0eOP198s85XkixHv5hDOczKpbusX7a-v8L5U\",\n        \"user\": {\n            \"id\": \"69094fa2162749e46a9fb819\",\n            \"name\": \"Muhamad Zidan Indratama\",\n            \"email\": \"zidanindratama03@gmail.com\",\n            \"role\": \"ADMIN\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Me",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = pm.response.json().data;",
									"pm.environment.set('user_id', data.id);",
									"pm.test('me has id/email/role', ()=> {",
									"   pm.expect(data.id).to.be.a('string');",
									"   pm.expect(data.email).to.include('@');",
									"   pm.expect(['ADMIN','MEMBER']).to.include(data.role);",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"me"
							]
						}
					},
					"response": [
						{
							"name": "Me",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/auth/me",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"me"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "142"
								},
								{
									"key": "ETag",
									"value": "W/\"8e-PF+Uuvh1M6orcQijjTzdhjGmJqM\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:59:35 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69094fa2162749e46a9fb819\",\n        \"name\": \"Muhamad Zidan Indratama\",\n        \"email\": \"zidanindratama03@gmail.com\",\n        \"role\": \"ADMIN\"\n    }\n}"
						}
					]
				},
				{
					"name": "Logout",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						}
					},
					"response": [
						{
							"name": "Logout",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/auth/logout",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"logout"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Set-Cookie",
									"value": "refreshToken=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "26"
								},
								{
									"key": "ETag",
									"value": "W/\"1a-pIPrt4esgEyEkX/w62Rnrj9XXdg\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 00:59:42 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {}\n}"
						}
					]
				}
			],
			"description": "## üîê 1. Folder: **Auth**\n\nFolder **Auth** berisi seluruh endpoint yang berkaitan dengan **autentikasi dan manajemen sesi login pengguna** di sistem GunaSmash.  \nSemua proses seperti **registrasi**, **login**, **refresh token**, hingga **logout** dikelola di sini.\n\nTujuan utamanya:\n\n- Mengatur akses user berdasarkan **JWT Access Token**.\n    \n- Mengelola **Refresh Token (HttpOnly cookie)** untuk menjaga sesi login tetap aman.\n    \n- Memungkinkan pengecekan data pengguna yang sedang login melalui endpoint `GET /me`.\n    \n\n---\n\n## üß© 2. Endpoint: **POST** **`/api/auth/sign-up`** **‚Üí Sign Up (random user)**\n\n### üìù Deskripsi\n\nMembuat akun baru untuk anggota (role default: `MEMBER`).  \nEndpoint ini digunakan untuk registrasi umum tanpa perlu otorisasi.\n\n---\n\n### üì§ Request\n\n**Method:** `POST`  \n**URL:** `/api/auth/sign-up`  \n**Body (JSON):**\n\n``` json\n{\n  \"name\": \"Budi Santoso\",\n  \"email\": \"budi@example.com\",\n  \"password\": \"password123\"\n}\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\",\n    \"user\": {\n      \"id\": \"6726ebff52b2e12abffbcd11\",\n      \"name\": \"Budi Santoso\",\n      \"email\": \"budi@example.com\",\n      \"role\": \"MEMBER\"\n    }\n  }\n}\n\n ```\n\n**Catatan:**\n\n- Setelah berhasil registrasi, sistem otomatis mengirimkan **Access Token (JWT)** dan menyimpan **Refresh Token** di cookie HttpOnly.\n    \n- Token ini digunakan untuk akses endpoint lain tanpa login ulang.\n    \n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 400 | Validasi data tidak sesuai (nama/email kosong, password terlalu pendek) |\n| 409 | Email sudah terdaftar |\n| 500 | Kesalahan server internal |\n\n---\n\n## üë®‚Äçüíº 3. Endpoint: **POST** **`/api/auth/sign-in`** **‚Üí Sign In (admin / member)**\n\n### üìù Deskripsi\n\nMelakukan login menggunakan email dan password.  \nJika berhasil, sistem memberikan **Access Token** baru dan cookie **Refresh Token**.\n\n---\n\n### üì§ Request\n\n**Method:** `POST`  \n**URL:** `/api/auth/sign-in`  \n**Body (JSON):**\n\n``` json\n{\n  \"email\": \"admin@example.com\",\n  \"password\": \"password123\"\n}\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\",\n    \"user\": {\n      \"id\": \"6726ebff52b2e12abffbcd11\",\n      \"name\": \"Admin GunaSmash\",\n      \"email\": \"admin@example.com\",\n      \"role\": \"ADMIN\"\n    }\n  }\n}\n\n ```\n\n**Catatan:**\n\n- Authorization: Bearer\n    \n- Cookie `refreshToken` otomatis tersimpan di browser/postman (HttpOnly).\n    \n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 400 | Format body tidak valid |\n| 401 | Email atau password salah |\n| 500 | Kesalahan server internal |\n\n---\n\n## ‚ôªÔ∏è 4. Endpoint: **POST** **`/api/auth/refresh`** **‚Üí Refresh Token**\n\n### üìù Deskripsi\n\nMengambil **Access Token** baru menggunakan **Refresh Token** yang disimpan di cookie.  \nBiasanya digunakan ketika Access Token sudah kadaluarsa.\n\n---\n\n### üì§ Request\n\n**Method:** `POST`  \n**URL:** `/api/auth/refresh`  \n**Header:** Cookie otomatis dikirim dari browser atau Postman.\n\nTidak perlu body atau parameter.\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6...\",\n    \"user\": {\n      \"id\": \"6726ebff52b2e12abffbcd11\",\n      \"name\": \"Admin GunaSmash\",\n      \"email\": \"admin@example.com\",\n      \"role\": \"ADMIN\"\n    }\n  }\n}\n\n ```\n\n**Catatan:**\n\n- Endpoint ini hanya berfungsi jika cookie `refreshToken` masih valid.\n    \n- Refresh token akan **diperbarui** setiap kali endpoint ini dipanggil.\n    \n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Cookie refresh token tidak ada / tidak valid |\n| 500 | Kesalahan server |\n\n---\n\n## üë§ 5. Endpoint: **GET** **`/api/auth/me`** **‚Üí Me**\n\n### üìù Deskripsi\n\nMenampilkan data user yang sedang login berdasarkan token yang dikirim pada header `Authorization`.\n\n---\n\n### üì§ Request\n\n**Method:** `GET`  \n**URL:** `/api/auth/me`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token>\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"6726ebff52b2e12abffbcd11\",\n    \"name\": \"Budi Santoso\",\n    \"email\": \"budi@example.com\",\n    \"role\": \"MEMBER\"\n  }\n}\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Access token hilang atau tidak valid |\n| 404 | User sudah dihapus dari database |\n| 500 | Kesalahan server |\n\n---\n\n## üö™ 6. Endpoint: **DELETE** **`/api/auth/logout`** **‚Üí Logout**\n\n### üìù Deskripsi\n\nMenghapus sesi login dengan menghapus cookie `refreshToken` dari browser/postman.\n\n---\n\n### üì§ Request\n\n**Method:** `DELETE`  \n**URL:** `/api/auth/logout`  \nTidak membutuhkan body maupun parameter.\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {}\n}\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Tidak ada sesi login yang aktif |\n| 500 | Kesalahan server |\n\n---\n\n### üí° Catatan Umum (untuk folder Auth)\n\n- **Access Token** digunakan untuk semua endpoint setelah login.\n    \n- **Refresh Token** hanya dikirim otomatis lewat cookie, tidak perlu dimasukkan manual.\n    \n- Token yang kadaluarsa bisa diganti dengan memanggil `/api/auth/refresh`.\n    \n- Logout akan benar-benar menghapus cookie dan memaksa pengguna login ulang.\n    \n\n---"
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "List users",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"// defaults so it tetap jalan walau env kosong",
									"if (!pm.environment.get('users_page')) pm.environment.set('users_page', '1');",
									"if (!pm.environment.get('users_limit')) pm.environment.set('users_limit', '10');",
									"if (pm.environment.get('search_term') === undefined) pm.environment.set('search_term', '');",
									"if (pm.environment.get('users_filter') === undefined) pm.environment.set('users_filter', '');",
									"if (pm.environment.get('users_sort') === undefined) pm.environment.set('users_sort', '');"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = json.data;",
									"pm.test('data.items array', ()=> pm.expect(Array.isArray(data.items)).to.be.true);",
									"const firstId = data?.items?.[0]?.id || data?.items?.[0]?._id;",
									"if (firstId) pm.environment.set('member_id', firstId);",
									"",
									"// Optional: validate filter role if provided",
									"const filterStr = pm.environment.get('users_filter');",
									"if (filterStr) {",
									"  try {",
									"    const f = JSON.parse(filterStr);",
									"    if (f.role && typeof f.role === 'string') {",
									"      pm.test('all items match role filter', ()=> {",
									"        data.items.forEach(u => pm.expect(u.role).to.equal(f.role));",
									"      });",
									"    }",
									"  } catch(e) {}",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users?page={{users_page}}&limit={{users_limit}}&search={{search_term}}&filter={{users_filter}}&sort={{users_sort}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "{{users_page}}"
								},
								{
									"key": "limit",
									"value": "{{users_limit}}"
								},
								{
									"key": "search",
									"value": "{{search_term}}"
								},
								{
									"key": "filter",
									"value": "{{users_filter}}"
								},
								{
									"key": "sort",
									"value": "{{users_sort}}"
								}
							]
						},
						"description": "List users with optional search, filter (JSON), and sort (e.g. createdAt:desc)."
					},
					"response": [
						{
							"name": "List users",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/users?page=1&limit=10&search=test&filter=&sort=",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"users"
									],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "10"
										},
										{
											"key": "search",
											"value": "test"
										},
										{
											"key": "filter",
											"value": ""
										},
										{
											"key": "sort",
											"value": ""
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "ETag",
									"value": "W/\"4b0-m/WDoWfifAJYL6nsPx/oNgyqk14\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:00:01 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"items\": [\n            {\n                \"id\": \"69094fa4162749e46a9fb824\",\n                \"name\": \"Avery Windler\",\n                \"email\": \"avery_windler79+mhjv183krip@mail.test\",\n                \"role\": \"MEMBER\"\n            },\n            {\n                \"id\": \"69094fa3162749e46a9fb821\",\n                \"name\": \"Britney Kassulke\",\n                \"email\": \"britney.kassulke+mhjv17pfto0@mail.test\",\n                \"role\": \"MEMBER\"\n            },\n            {\n                \"id\": \"69094fa5162749e46a9fb82c\",\n                \"name\": \"Cale Satterfield\",\n                \"email\": \"cale.satterfield+mhjv198i3en@mail.test\",\n                \"role\": \"MEMBER\"\n            },\n            {\n                \"id\": \"69094fa3162749e46a9fb81d\",\n                \"name\": \"Dayna Langworth\",\n                \"email\": \"dayna.langworth13+mhjv17a1fqy@mail.test\",\n                \"role\": \"ADMIN\"\n            },\n            {\n                \"id\": \"69094fa3162749e46a9fb81b\",\n                \"name\": \"Haskell Friesen\",\n                \"email\": \"haskell_friesen+mhjv172f7pb@mail.test\",\n                \"role\": \"ADMIN\"\n            },\n            {\n                \"id\": \"69094fa5162749e46a9fb82b\",\n                \"name\": \"Maribel Grimes\",\n                \"email\": \"maribel.grimes81+mhjv194sbzt@mail.test\",\n                \"role\": \"MEMBER\"\n            },\n            {\n                \"id\": \"69094fa2162749e46a9fb81a\",\n                \"name\": \"Maurine Farrell\",\n                \"email\": \"maurine_farrell+mhjv16zegto@mail.test\",\n                \"role\": \"ADMIN\"\n            },\n            {\n                \"id\": \"69094fa4162749e46a9fb825\",\n                \"name\": \"Savanah Williamson\",\n                \"email\": \"savanah_williamson+mhjv18f79wp@mail.test\",\n                \"role\": \"MEMBER\"\n            },\n            {\n                \"id\": \"69094fa4162749e46a9fb822\",\n                \"name\": \"Kristofer Raynor\",\n                \"email\": \"kristofer_raynor+mhjv17tr1kt@mail.test\",\n                \"role\": \"MEMBER\"\n            }\n        ],\n        \"meta\": {\n            \"total\": 9,\n            \"page\": 1,\n            \"limit\": 10,\n            \"pages\": 1\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get user by id",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/{{member_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"{{member_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Get user by id",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/users/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"users",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "223"
								},
								{
									"key": "ETag",
									"value": "W/\"df-4FrBNTusFeT4refEaUJCGDlFZU0\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:00:16 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69094fa4162749e46a9fb824\",\n        \"name\": \"Avery Windler\",\n        \"email\": \"avery_windler79+mhjv183krip@mail.test\",\n        \"role\": \"MEMBER\",\n        \"avatarUrl\": \"https://i.pravatar.cc/256?u=fad0481f-3531-434a-a450-58294a0e02c0\"\n    }\n}"
						}
					]
				},
				{
					"name": "Promote/Demote role",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"pm.test('role is ADMIN', ()=> pm.expect(pm.response.json().data.role).to.equal('ADMIN'));"
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"role\":\"ADMIN\"}"
						},
						"url": {
							"raw": "{{base_url}}/users/{{member_id}}/role",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"{{member_id}}",
								"role"
							]
						}
					},
					"response": [
						{
							"name": "Promote/Demote role",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"role\":\"ADMIN\"}"
								},
								"url": {
									"raw": "http://localhost:4000/api/users//role",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"users",
										"",
										"role"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "143"
								},
								{
									"key": "ETag",
									"value": "W/\"8f-ym7APLC+dmJ2eixk2zppFxw7Z6g\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:00:26 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69094fa4162749e46a9fb824\",\n        \"name\": \"Avery Windler\",\n        \"email\": \"avery_windler79+mhjv183krip@mail.test\",\n        \"role\": \"ADMIN\"\n    }\n}"
						}
					]
				},
				{
					"name": "Delete user",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/{{member_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"{{member_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Delete user",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/users/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"users",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "129"
								},
								{
									"key": "ETag",
									"value": "W/\"81-4hTcpTBHZh7fwPC8cVYBBiiSd6I\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:10:30 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"removedAttendances\": 6,\n        \"reassigned\": {\n            \"announcements\": 0,\n            \"blogs\": 0,\n            \"toUserId\": \"69094fa2162749e46a9fb819\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Import CSV (file)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/D:/Personal Projects/GunaSmash/members.csv"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/users/import",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"import"
							]
						}
					},
					"response": [
						{
							"name": "Import CSV (file)",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "file",
											"type": "file",
											"src": "/D:/Personal Projects/GunaSmash/members.csv"
										}
									]
								},
								"url": {
									"raw": "http://localhost:4000/api/users/import",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"users",
										"import"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "37"
								},
								{
									"key": "ETag",
									"value": "W/\"25-CsyUstaqLpAqGOcZs+QQqBVHeNE\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:10:59 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"created\": 5\n    }\n}"
						}
					]
				},
				{
					"name": "Export CSV",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('200', ()=> pm.expect(pm.response.code).to.equal(200));",
									"pm.test('CSV content-type', ()=> pm.expect(pm.response.headers.get('Content-Type')).to.include('text/csv'));"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/users/export/csv",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"export",
								"csv"
							]
						}
					},
					"response": [
						{
							"name": "Export CSV",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/users/export/csv",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"users",
										"export",
										"csv"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "text/csv; charset=utf-8"
								},
								{
									"key": "Content-Disposition",
									"value": "attachment; filename=\"members.csv\""
								},
								{
									"key": "ETag",
									"value": "W/\"958-8Q7NcEuVT21BZk1qlkmyGmGz/yY\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:11:09 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "\"id\",\"name\",\"email\",\"role\"\r\n\"690952a3430a7543ab34ef48\",\"Riko Tanaka\",\"riko.tanaka@example.com\",\"MEMBER\"\r\n\"690952a3430a7543ab34ef47\",\"Lisa Wong\",\"lisa.wong@example.com\",\"MEMBER\"\r\n\"690952a2430a7543ab34ef46\",\"Muhammad Ali\",\"muhammad.ali@example.com\",\"MEMBER\"\r\n\"690952a2430a7543ab34ef45\",\"Jane Smith\",\"jane.smith@example.com\",\"MEMBER\"\r\n\"690952a2430a7543ab34ef44\",\"John Doe\",\"john.doe@example.com\",\"MEMBER\"\r\n\"69094fd8e4c64907ce85917b\",\"User aiywxi\",\"user+mhjv2cce@example.com\",\"MEMBER\"\r\n\"69094fa2162749e46a9fb819\",\"Muhamad Zidan Indratama\",\"zidanindratama03@gmail.com\",\"ADMIN\"\r\n\"69094fa3162749e46a9fb821\",\"Britney Kassulke\",\"britney.kassulke+mhjv17pfto0@mail.test\",\"MEMBER\"\r\n\"69094fa4162749e46a9fb826\",\"Lauryn Reichert\",\"lauryn.reichert+mhjv18jcmxz@example.com\",\"MEMBER\"\r\n\"69094fa3162749e46a9fb81f\",\"Elaina Turcotte\",\"elaina.turcotte+mhjv17gyoj9@dev.local\",\"MEMBER\"\r\n\"69094fa5162749e46a9fb82c\",\"Cale Satterfield\",\"cale.satterfield+mhjv198i3en@mail.test\",\"MEMBER\"\r\n\"69094fa5162749e46a9fb82a\",\"Henriette Stroman\",\"henriette.stroman+mhjv1907hw6@example.com\",\"MEMBER\"\r\n\"69094fa6162749e46a9fb82d\",\"Jerald Hamill\",\"jerald_hamill+mhjv19c6erq@example.com\",\"MEMBER\"\r\n\"69094fa5162749e46a9fb827\",\"Fausto Goodwin\",\"fausto.goodwin+mhjv18nfohx@example.com\",\"MEMBER\"\r\n\"69094fa5162749e46a9fb829\",\"Madisen Gerhold\",\"madisen.gerhold27+mhjv18wbbx6@example.com\",\"MEMBER\"\r\n\"69094fa5162749e46a9fb828\",\"Connie Schowalter\",\"connie.schowalter8+mhjv18rxwug@dev.local\",\"MEMBER\"\r\n\"69094fa3162749e46a9fb81c\",\"Elliot Parker\",\"elliot_parker+mhjv176pcfq@dev.local\",\"ADMIN\"\r\n\"69094fa3162749e46a9fb81d\",\"Dayna Langworth\",\"dayna.langworth13+mhjv17a1fqy@mail.test\",\"ADMIN\"\r\n\"69094fa4162749e46a9fb823\",\"Davin Tremblay\",\"davin.tremblay+mhjv17xkc0u@example.com\",\"MEMBER\"\r\n\"69094fa3162749e46a9fb81b\",\"Haskell Friesen\",\"haskell_friesen+mhjv172f7pb@mail.test\",\"ADMIN\"\r\n\"69094fa5162749e46a9fb82b\",\"Maribel Grimes\",\"maribel.grimes81+mhjv194sbzt@mail.test\",\"MEMBER\"\r\n\"69094fa2162749e46a9fb81a\",\"Maurine Farrell\",\"maurine_farrell+mhjv16zegto@mail.test\",\"ADMIN\"\r\n\"69094fa3162749e46a9fb81e\",\"Emil D'Amore\",\"emil.damore+mhjv17czw0z@dev.local\",\"MEMBER\"\r\n\"69094fa4162749e46a9fb825\",\"Savanah Williamson\",\"savanah_williamson+mhjv18f79wp@mail.test\",\"MEMBER\"\r\n\"69094fa4162749e46a9fb822\",\"Kristofer Raynor\",\"kristofer_raynor+mhjv17tr1kt@mail.test\",\"MEMBER\"\r\n\"69094fa3162749e46a9fb820\",\"Wilmer Keebler\",\"wilmer.keebler54+mhjv17kyivz@example.com\",\"MEMBER\""
						}
					]
				}
			],
			"description": "## üë• 1. Folder: **Users**\n\nFolder **Users** berisi seluruh endpoint yang digunakan untuk **manajemen data pengguna** dalam sistem GunaSmash.  \nSemua endpoint di folder ini hanya dapat diakses oleh pengguna dengan peran **ADMIN**.\n\nTujuan utama folder ini:\n\n- Melihat daftar seluruh user (member dan admin).\n    \n- Melihat detail user berdasarkan ID.\n    \n- Mengubah peran user (promote/demote).\n    \n- Menghapus user dari sistem.\n    \n- Import/export data user dalam format CSV untuk memudahkan pengelolaan massal.\n    \n\n---\n\n## üìÑ 2. Endpoint: **GET** **`/api/users`** **‚Üí List Users**\n\n### üìù Deskripsi\n\nMenampilkan daftar seluruh pengguna (admin dan member) dengan dukungan fitur:\n\n- pencarian (search),\n    \n- pagination (page & limit),\n    \n- sorting (sort),\n    \n- dan filter (filter JSON).\n    \n\nHanya bisa diakses oleh **ADMIN**.\n\n---\n\n### üì§ Request\n\n**Method:** `GET`  \n**URL:** `/api/users`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n\n ```\n\n**Query Parameters (opsional):**\n\n| Nama | Tipe | Deskripsi |\n| --- | --- | --- |\n| `page` | number | Halaman data (default: 1) |\n| `limit` | number | Jumlah item per halaman (default: 10) |\n| `search` | string | Pencarian berdasarkan nama atau email |\n| `sort` | string | Urutan hasil, contoh: `createdAt:desc` |\n| `filter` | string (JSON) | Filter tambahan, contoh: `{\"role\":\"MEMBER\"}` |\n\nContoh URL:\n\n```\n/api/users?page=1&limit=10&search=budi&sort=createdAt:desc\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"items\": [\n      {\n        \"id\": \"6726ebff52b2e12abffbcd11\",\n        \"name\": \"Admin GunaSmash\",\n        \"email\": \"admin@example.com\",\n        \"role\": \"ADMIN\"\n      },\n      {\n        \"id\": \"6726ec00b4cc2a1e30424e87\",\n        \"name\": \"Budi Santoso\",\n        \"email\": \"budi@example.com\",\n        \"role\": \"MEMBER\"\n      }\n    ],\n    \"meta\": {\n      \"total\": 20,\n      \"page\": 1,\n      \"limit\": 10,\n      \"pages\": 2\n    }\n  }\n}\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Token tidak valid atau belum login |\n| 403 | Role bukan admin |\n| 500 | Kesalahan server |\n\n---\n\n## üîç 3. Endpoint: **GET** **`/api/users/:id`** **‚Üí Get User by ID**\n\n### üìù Deskripsi\n\nMenampilkan detail data user berdasarkan `id` pengguna.  \nHanya bisa diakses oleh **ADMIN**.\n\n---\n\n### üì§ Request\n\n**Method:** `GET`  \n**URL:** `/api/users/{id}`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n\n ```\n\nContoh URL:\n\n```\n/api/users/6726ebff52b2e12abffbcd11\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"6726ebff52b2e12abffbcd11\",\n    \"name\": \"Admin GunaSmash\",\n    \"email\": \"admin@example.com\",\n    \"role\": \"ADMIN\",\n    \"avatarUrl\": null\n  }\n}\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Token tidak valid |\n| 403 | Role bukan admin |\n| 404 | User tidak ditemukan |\n\n---\n\n## üîÑ 4. Endpoint: **PATCH** **`/api/users/:id/role`** **‚Üí Promote / Demote Role**\n\n### üìù Deskripsi\n\nMengubah role pengguna menjadi `ADMIN` atau `MEMBER`.  \nBiasanya digunakan untuk **menaikkan** atau **menurunkan** hak akses anggota.\n\n---\n\n### üì§ Request\n\n**Method:** `PATCH`  \n**URL:** `/api/users/{id}/role`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n\n ```\n\n**Body (JSON):**\n\n``` json\n{ \"role\": \"ADMIN\" }\n\n ```\n\nAtau:\n\n``` json\n{ \"role\": \"MEMBER\" }\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"6726ec00b4cc2a1e30424e87\",\n    \"name\": \"Budi Santoso\",\n    \"email\": \"budi@example.com\",\n    \"role\": \"ADMIN\"\n  }\n}\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 400 | Body tidak valid |\n| 401 | Token tidak valid |\n| 403 | Role bukan admin |\n| 404 | ID user tidak ditemukan |\n\n---\n\n## üóëÔ∏è 5. Endpoint: **DELETE** **`/api/users/:id`** **‚Üí Delete User**\n\n### üìù Deskripsi\n\nMenghapus user dari sistem berdasarkan ID.  \nHanya dapat dilakukan oleh **ADMIN**.\n\n---\n\n### üì§ Request\n\n**Method:** `DELETE`  \n**URL:** `/api/users/{id}`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n\n ```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {}\n}\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Token tidak valid |\n| 403 | Role bukan admin |\n| 404 | User tidak ditemukan |\n\n---\n\n## üì• 6. Endpoint: **POST** **`/api/users/import`** **‚Üí Import CSV (file)**\n\n### üìù Deskripsi\n\nMengimpor data pengguna secara massal melalui file CSV.  \nCSV wajib memiliki header:\n\n```\nname,email,password\n\n ```\n\nKolom `password` bersifat opsional ‚Äî jika tidak diisi, sistem akan menggunakan default `password123`.\n\n---\n\n### üì§ Request\n\n**Method:** `POST`  \n**URL:** `/api/users/import`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\nContent-Type: multipart/form-data\n\n ```\n\n**Form-data:**\n\n| Key | Tipe | Deskripsi |\n| --- | --- | --- |\n| `file` | File | File CSV yang berisi daftar user |\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n``` json\n{\n  \"success\": true,\n  \"data\": {\n    \"created\": 15\n  }\n}\n\n ```\n\n**Catatan:**\n\n- Jika ada email yang sudah terdaftar, data tersebut akan dilewati (tidak error).\n    \n- Import dilakukan secara aman menggunakan hashing password (bcrypt).\n    \n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 400 | File tidak dikirim |\n| 401 | Token tidak valid |\n| 403 | Role bukan admin |\n| 500 | Format CSV salah atau error server |\n\n---\n\n## üì§ 7. Endpoint: **GET** **`/api/users/export/csv`** **‚Üí Export CSV**\n\n### üìù Deskripsi\n\nMengekspor seluruh data pengguna dalam format **CSV**.  \nFile yang diunduh akan berisi kolom: `id`, `name`, `email`, `role`.\n\n---\n\n### üì§ Request\n\n**Method:** `GET`  \n**URL:** `/api/users/export/csv`  \n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n\n ```\n\nTidak memerlukan body.\n\n---\n\n### üì• Contoh Respons (CSV File)\n\n```\nid,name,email,role\n6726ebff52b2e12abffbcd11,Admin GunaSmash,admin@example.com,ADMIN\n6726ec00b4cc2a1e30424e87,Budi Santoso,budi@example.com,MEMBER\n\n ```\n\nFile akan diunduh otomatis sebagai:\n\n```\nmembers.csv\n\n ```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab |\n| --- | --- |\n| 401 | Token tidak valid |\n| 403 | Role bukan admin |\n| 500 | Kesalahan server |\n\n---\n\n### üí° Catatan Umum (untuk folder Users)\n\n- Semua endpoint di sini wajib menggunakan **Bearer Token admin**.\n    \n- **Import CSV** memudahkan input massal anggota baru.\n    \n- **Export CSV** bisa dipakai untuk backup data atau kebutuhan laporan UKM.\n    \n- Password yang diimpor otomatis di-hash, bukan disimpan dalam teks asli.\n    \n\n---"
		},
		{
			"name": "Announcements",
			"item": [
				{
					"name": "Create announcement",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"function safeEvalFactory(src){",
									"  try{ const f = eval(src); return (typeof f==='function')?f():f; }",
									"  catch(e){ return null; }",
									"}",
									"const fStr = pm.collectionVariables.get('factory_announcement');",
									"let data = safeEvalFactory(fStr);",
									"const now = new Date();",
									"const plus2hISO = new Date(now.getTime() + 2*60*60*1000).toISOString();",
									"pm.variables.set('ts', Date.now().toString(36));",
									"if(!data){",
									"  data = {",
									"    title: 'Latihan Rutin {{ts}}',",
									"    datetime: plus2hISO,",
									"    location: 'Sport Center Kampus H',",
									"    locationLink: 'https://www.google.com/maps/search/?api=1&query=Sport%20Center%20Kampus%20H',",
									"    imageUrl: null",
									"  };",
									"} else {",
									"  if(!data.datetime) data.datetime = plus2hISO;",
									"  if(!data.title) data.title = 'Latihan Rutin {{ts}}';",
									"}",
									"pm.variables.set('payload', JSON.stringify(data));"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success true', ()=> pm.expect(json.success).to.be.true);",
									"const item = json.data;",
									"pm.environment.set('announcement_id', item.id || item._id);",
									"pm.test('stored id', ()=> pm.expect(pm.environment.get('announcement_id')).to.be.a('string'));",
									"pm.test('has title/datetime', ()=> {",
									"  pm.expect(item).to.have.property('title');",
									"  pm.expect(item).to.have.property('datetime');",
									"});",
									"pm.test('datetime >= now + 2h', ()=> {",
									"  const createdAtMs = Date.parse(item.datetime);",
									"  const nowMs = Date.now();",
									"  pm.expect(createdAtMs - nowMs).to.be.at.least(2*60*60*1000 - 5000);",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{payload}}"
						},
						"url": {
							"raw": "{{base_url}}/announcements",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"announcements"
							]
						}
					},
					"response": [
						{
							"name": "Create announcement",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer "
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{payload}}"
								},
								"url": {
									"raw": "http://localhost:4000/api/announcements",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"announcements"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "389"
								},
								{
									"key": "ETag",
									"value": "W/\"185-ELkOHZKZobAZSbX/9lKmenCmGyg\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:44:49 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69095a9151dab693895ad78b\",\n        \"title\": \"Latihan Rutin mhjwp6ij\",\n        \"datetime\": \"2025-11-04T03:44:49.723Z\",\n        \"location\": \"Sport Center Kampus H\",\n        \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=Sport%20Center%20Kampus%20H\",\n        \"imageUrl\": null,\n        \"createdBy\": \"69094fa2162749e46a9fb819\",\n        \"createdAt\": \"2025-11-04T01:44:49.751Z\",\n        \"updatedAt\": \"2025-11-04T01:44:49.751Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "List announcements",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success true', ()=> pm.expect(json.success).to.be.true);",
									"const items = json.data?.items || [];",
									"pm.test('items array', ()=> pm.expect(Array.isArray(items)).to.be.true);",
									"const id = items[0]?.id || items[0]?._id;",
									"if(id) pm.environment.set('announcement_id', id);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/announcements?page=1&limit=5&search={{search_term}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"announcements"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "5"
								},
								{
									"key": "search",
									"value": "{{search_term}}"
								}
							]
						}
					},
					"response": [
						{
							"name": "List announcements",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/announcements?page=1&limit=5&search=test",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"announcements"
									],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "5"
										},
										{
											"key": "search",
											"value": "test"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "ETag",
									"value": "W/\"74e-bUk2mKcGVwKr7aP6IUlnVvmneec\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:52:49 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"items\": [\n            {\n                \"id\": \"69095c385c45945ed14a6caa\",\n                \"title\": \"Virtus Aiunt\",\n                \"datetime\": \"2025-11-03T23:51:52.048Z\",\n                \"location\": \"GOR Cempaka\",\n                \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=GOR%20Cempaka\",\n                \"imageUrl\": null,\n                \"createdBy\": \"69095c335c45945ed14a6c85\",\n                \"createdAt\": \"2025-10-13T02:56:47.044Z\",\n                \"updatedAt\": \"2025-11-04T01:51:52.049Z\"\n            },\n            {\n                \"id\": \"69095c375c45945ed14a6ca6\",\n                \"title\": \"Curo Ars Angustus\",\n                \"datetime\": \"2025-11-03T23:51:51.528Z\",\n                \"location\": \"GOR Cempaka\",\n                \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=GOR%20Cempaka\",\n                \"imageUrl\": null,\n                \"createdBy\": \"69095c345c45945ed14a6c89\",\n                \"createdAt\": \"2025-09-28T00:06:05.202Z\",\n                \"updatedAt\": \"2025-11-04T01:51:51.529Z\"\n            },\n            {\n                \"id\": \"69095c375c45945ed14a6ca5\",\n                \"title\": \"Ambitus Ducimus Labore Tamdiu\",\n                \"datetime\": \"2025-11-03T23:51:51.401Z\",\n                \"location\": \"GOR Bimasakti\",\n                \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=GOR%20Bimasakti\",\n                \"imageUrl\": \"https://picsum.photos/seed/ann-ba853211-d60e-4343-9f1b-ead3ab7dbec8/800/400\",\n                \"createdBy\": \"69095c345c45945ed14a6c8b\",\n                \"createdAt\": \"2025-09-06T09:02:08.716Z\",\n                \"updatedAt\": \"2025-11-04T01:51:51.403Z\"\n            },\n            {\n                \"id\": \"69095c375c45945ed14a6ca3\",\n                \"title\": \"Conscendo Sit Carus\",\n                \"datetime\": \"2025-11-03T23:51:51.133Z\",\n                \"location\": \"GOR Gloria\",\n                \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=GOR%20Gloria\",\n                \"imageUrl\": null,\n                \"createdBy\": \"69095c345c45945ed14a6c8c\",\n                \"createdAt\": \"2025-10-20T04:11:22.349Z\",\n                \"updatedAt\": \"2025-11-04T01:51:51.135Z\"\n            },\n            {\n                \"id\": \"69095c365c45945ed14a6ca1\",\n                \"title\": \"Comptus Verumtamen\",\n                \"datetime\": \"2025-11-03T23:51:50.860Z\",\n                \"location\": \"GOR Bimasakti\",\n                \"locationLink\": null,\n                \"imageUrl\": \"https://picsum.photos/seed/ann-633a7518-5646-480d-9e84-f6bb63f1734d/800/400\",\n                \"createdBy\": \"69095c335c45945ed14a6c83\",\n                \"createdAt\": \"2025-09-16T20:32:56.546Z\",\n                \"updatedAt\": \"2025-11-04T01:51:50.862Z\"\n            }\n        ],\n        \"meta\": {\n            \"total\": 11,\n            \"page\": 1,\n            \"limit\": 5,\n            \"pages\": 3\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get announcement by id",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success true', ()=> pm.expect(json.success).to.be.true);",
									"pm.test('has fields', ()=> {",
									"  const a = json.data;",
									"  pm.expect(a).to.have.property('title');",
									"  pm.expect(a).to.have.property('datetime');",
									"  pm.expect(a).to.have.property('location');",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/announcements/{{announcement_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"announcements",
								"{{announcement_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Get announcement by id",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/announcements/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"announcements",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "355"
								},
								{
									"key": "ETag",
									"value": "W/\"163-vPHuqOP7BtLCZlfD9WwM7U7qi5M\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 01:53:07 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69095c385c45945ed14a6caa\",\n        \"title\": \"Virtus Aiunt\",\n        \"datetime\": \"2025-11-03T23:51:52.048Z\",\n        \"location\": \"GOR Cempaka\",\n        \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=GOR%20Cempaka\",\n        \"imageUrl\": null,\n        \"createdBy\": \"69095c335c45945ed14a6c85\",\n        \"createdAt\": \"2025-10-13T02:56:47.044Z\",\n        \"updatedAt\": \"2025-11-04T01:51:52.049Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "Update announcement",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.variables.set('ts', Date.now().toString(36));"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success true', ()=> pm.expect(json.success).to.be.true);",
									"pm.test('title/location updated', ()=> {",
									"  pm.expect(json.data.title).to.include('Updated');",
									"  pm.expect(json.data.location).to.include('Updated');",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"title\":\"Updated {{ts}}\",\"location\":\"Updated {{ts}} Hall\"}"
						},
						"url": {
							"raw": "{{base_url}}/announcements/{{announcement_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"announcements",
								"{{announcement_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Update announcement",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer "
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"title\":\"Updated {{ts}}\",\"location\":\"Updated {{ts}} Hall\"}"
								},
								"url": {
									"raw": "http://localhost:4000/api/announcements/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"announcements",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "369"
								},
								{
									"key": "ETag",
									"value": "W/\"171-z4Q/kaQH85cENL1The4RG/NVfvk\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:09:50 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69095c385c45945ed14a6caa\",\n        \"title\": \"Updated mhjxlchs\",\n        \"datetime\": \"2025-11-03T23:51:52.048Z\",\n        \"location\": \"Updated mhjxlchs Hall\",\n        \"locationLink\": \"https://www.google.com/maps/search/?api=1&query=GOR%20Cempaka\",\n        \"imageUrl\": null,\n        \"createdBy\": \"69095c335c45945ed14a6c85\",\n        \"createdAt\": \"2025-10-13T02:56:47.044Z\",\n        \"updatedAt\": \"2025-11-04T02:09:50.491Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "Delete announcement",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success true', ()=> pm.expect(json.success).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/announcements/{{announcement_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"announcements",
								"{{announcement_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Delete announcement",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer "
									}
								],
								"url": {
									"raw": "http://localhost:4000/api/announcements/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"announcements",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "26"
								},
								{
									"key": "ETag",
									"value": "W/\"1a-pIPrt4esgEyEkX/w62Rnrj9XXdg\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:10:01 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {}\n}"
						}
					]
				}
			],
			"description": "\n\n## üì¢ 1. Folder: **Announcements**\n\nFolder **Announcements** berisi endpoint untuk **mengelola jadwal atau kegiatan resmi UKM Bulutangkis GunaSmash**.\nSemua pengguna (**ADMIN** dan **MEMBER**) dapat melihat daftar pengumuman, tetapi hanya **ADMIN** yang dapat membuat, memperbarui, atau menghapus pengumuman.\n\nSetiap pengumuman memiliki:\n\n* `title` ‚Äî judul kegiatan\n* `datetime` ‚Äî waktu pelaksanaan (format ISO 8601)\n* `location` ‚Äî lokasi kegiatan\n* `locationLink` (opsional) ‚Äî tautan ke Google Maps\n* `imageUrl` (opsional) ‚Äî banner/poster kegiatan\n* metadata (`createdBy`, `createdAt`, `updatedAt`)\n\n---\n\n## ‚úçÔ∏è 2. Endpoint: **POST `/api/announcements` ‚Üí Create announcement** *(ADMIN)*\n\n### üìù Deskripsi\n\nMembuat pengumuman baru untuk jadwal latihan atau kegiatan UKM.\n\n### üì§ Request\n\n**Method:** `POST`\n**URL:** `/api/announcements`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\nContent-Type: application/json\n```\n\n**Body (JSON):**\n\n```json\n{\n  \"title\": \"Latihan Rutin Rabu\",\n  \"datetime\": \"2025-11-05T15:00:00+07:00\",\n  \"location\": \"Sport Center Kampus H\",\n  \"locationLink\": \"https://maps.google.com/?q=Sport+Center+Kampus+H\",\n  \"imageUrl\": null\n}\n```\n\n> **Catatan format `datetime`**\n> Gunakan format **ISO 8601** dengan zona waktu, contoh:\n> `YYYY-MM-DDTHH:mm:ss+07:00` atau `YYYY-MM-DDTHH:mm:ssZ`.\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"67310de62c05b979d96f55aa\",\n    \"title\": \"Latihan Rutin Rabu\",\n    \"datetime\": \"2025-11-05T08:00:00.000Z\",\n    \"location\": \"Sport Center Kampus H\",\n    \"locationLink\": \"https://maps.google.com/?q=Sport+Center+Kampus+H\",\n    \"imageUrl\": null,\n    \"createdBy\": \"6726ebff52b2e12abffbcd11\",\n    \"createdAt\": \"2025-11-03T10:45:00.000Z\",\n    \"updatedAt\": \"2025-11-03T10:45:00.000Z\"\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab                                                       |\n| ------ | -------------------------------------------------------------- |\n| 400    | Data tidak valid (mis. title kosong atau datetime tidak valid) |\n| 401    | Token tidak valid                                              |\n| 403    | Role bukan admin                                               |\n| 500    | Kesalahan server                                               |\n\n---\n\n## üìã 3. Endpoint: **GET `/api/announcements` ‚Üí List announcements**\n\n### üìù Deskripsi\n\nMenampilkan daftar semua pengumuman aktif.\nMendukung query untuk **pagination**, **search**, dan **sorting**.\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/announcements`\n\n**Query (opsional):**\n\n| Nama     | Contoh                    | Keterangan                               |\n| -------- | ------------------------- | ---------------------------------------- |\n| `page`   | `1`                       | Default 1                                |\n| `limit`  | `10`                      | Jumlah data per halaman (default 10)     |\n| `search` | `Sport`                   | Cari berdasarkan `title` atau `location` |\n| `sort`   | `datetime:desc`           | Urutan data (default: terbaru dulu)      |\n| `filter` | `{\"location\":\"Kampus H\"}` | Filter tambahan dalam bentuk JSON string |\n\nContoh:\n\n```\n/api/announcements?page=1&limit=10&search=kampus&sort=datetime:desc\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"items\": [\n      {\n        \"id\": \"67310de62c05b979d96f55aa\",\n        \"title\": \"Latihan Rutin Rabu\",\n        \"datetime\": \"2025-11-05T08:00:00.000Z\",\n        \"location\": \"Sport Center Kampus H\",\n        \"locationLink\": \"https://maps.google.com/?q=Sport+Center+Kampus+H\",\n        \"imageUrl\": null,\n        \"createdAt\": \"2025-11-03T10:45:00.000Z\",\n        \"updatedAt\": \"2025-11-03T10:45:00.000Z\"\n      },\n      {\n        \"id\": \"67310de62c05b979d96f55bb\",\n        \"title\": \"Latihan Minggu\",\n        \"datetime\": \"2025-11-09T04:00:00.000Z\",\n        \"location\": \"GOR Gloria\",\n        \"locationLink\": null,\n        \"imageUrl\": null\n      }\n    ],\n    \"meta\": { \"total\": 6, \"page\": 1, \"limit\": 10, \"pages\": 1 }\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab         |\n| ------ | ---------------- |\n| 500    | Kesalahan server |\n\n---\n\n## üîç 4. Endpoint: **GET `/api/announcements/:id` ‚Üí Get announcement by id**\n\n### üìù Deskripsi\n\nMengambil detail pengumuman berdasarkan ID.\nDapat diakses oleh semua pengguna.\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/announcements/{id}`\n\nContoh:\n\n```\n/api/announcements/67310de62c05b979d96f55aa\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"67310de62c05b979d96f55aa\",\n    \"title\": \"Latihan Rutin Rabu\",\n    \"datetime\": \"2025-11-05T08:00:00.000Z\",\n    \"location\": \"Sport Center Kampus H\",\n    \"locationLink\": \"https://maps.google.com/?q=Sport+Center+Kampus+H\",\n    \"imageUrl\": null,\n    \"createdBy\": \"6726ebff52b2e12abffbcd11\",\n    \"createdAt\": \"2025-11-03T10:45:00.000Z\",\n    \"updatedAt\": \"2025-11-03T10:45:00.000Z\"\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab                      |\n| ------ | ----------------------------- |\n| 404    | ID pengumuman tidak ditemukan |\n| 500    | Kesalahan server              |\n\n---\n\n## ‚úèÔ∏è 5. Endpoint: **PATCH `/api/announcements/:id` ‚Üí Update announcement** *(ADMIN)*\n\n### üìù Deskripsi\n\nMengubah data pengumuman (parsial update).\nUntuk `datetime`, gunakan format ISO 8601 (`YYYY-MM-DDTHH:mm:ssZ`).\n\n### üì§ Request\n\n**Method:** `PATCH`\n**URL:** `/api/announcements/{id}`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\nContent-Type: application/json\n```\n\n**Body (contoh):**\n\n```json\n{\n  \"title\": \"Latihan Rutin Rabu (Update)\",\n  \"datetime\": \"2025-11-05T16:00:00+07:00\",\n  \"location\": \"GOR Gloria\"\n}\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"67310de62c05b979d96f55aa\",\n    \"title\": \"Latihan Rutin Rabu (Update)\",\n    \"datetime\": \"2025-11-05T09:00:00.000Z\",\n    \"location\": \"GOR Gloria\",\n    \"locationLink\": \"https://maps.google.com/?q=GOR+Gloria\",\n    \"imageUrl\": null,\n    \"updatedAt\": \"2025-11-03T11:10:00.000Z\"\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab                      |\n| ------ | ----------------------------- |\n| 400    | Body tidak valid              |\n| 401    | Token tidak valid             |\n| 403    | Role bukan admin              |\n| 404    | ID pengumuman tidak ditemukan |\n| 500    | Kesalahan server              |\n\n---\n\n## üóëÔ∏è 6. Endpoint: **DELETE `/api/announcements/:id` ‚Üí Delete announcement** *(ADMIN)*\n\n### üìù Deskripsi\n\nMenghapus pengumuman berdasarkan ID.\n\n### üì§ Request\n\n**Method:** `DELETE`\n**URL:** `/api/announcements/{id}`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n```\n\nContoh:\n\n```\n/api/announcements/67310de62c05b979d96f55aa\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {}\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab                      |\n| ------ | ----------------------------- |\n| 401    | Token tidak valid             |\n| 403    | Role bukan admin              |\n| 404    | ID pengumuman tidak ditemukan |\n| 500    | Kesalahan server              |\n\n---\n\n### üí° Catatan Umum (Announcements)\n\n* Field `datetime` menggunakan tipe **DateTime**, bukan kombinasi `day` dan `time` seperti versi lama.\n* `search` akan mencari pada field `title` dan `location` (case-insensitive).\n* Default urutan (`sort`) adalah `datetime:desc` (terbaru muncul di atas).\n* `imageUrl` dapat diisi dari hasil upload gambar melalui endpoint `/api/uploads/image`.\n* Semua respons sukses dikembalikan dalam format:\n\n  ```json\n  { \"success\": true, \"data\": { ... } }\n  ```\n\n---\n\n"
		},
		{
			"name": "Attendance",
			"item": [
				{
					"name": "Member Check-In",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('2xx/3xx', () => pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success', () => pm.expect(json.success).to.be.true);",
									"const s = json.data.session;",
									"if (s?.date) {",
									"  const d = new Date(s.date);",
									"  const y = d.getFullYear();",
									"  const m = String(d.getMonth()+1).padStart(2,'0');",
									"  const dd = String(d.getDate()).padStart(2,'0');",
									"  pm.environment.set('session_date', `${y}-${m}-${dd}`);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"announcementId\":\"{{announcement_id}}\",\"note\":\"Hadir {{NOW}}\"}"
						},
						"url": {
							"raw": "{{base_url}}/attendance/check-in",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendance",
								"check-in"
							]
						},
						"description": "Requires a valid {{announcement_id}}. Works for role MEMBER or ADMIN."
					},
					"response": [
						{
							"name": "Member Check-In",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"announcementId\":\"\",\"note\":\"Hadir {{NOW}}\"}"
								},
								"url": {
									"raw": "http://localhost:4000/api/attendance/check-in",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"attendance",
										"check-in"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "498"
								},
								{
									"key": "ETag",
									"value": "W/\"1f2-WppAxCqUKeKCLQSIiEzuJTdvOM8\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:10:41 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"session\": {\n            \"id\": \"690960a02f8acf00b06132ea\",\n            \"announcementId\": \"69095c375c45945ed14a6ca6\",\n            \"date\": \"2025-11-03T17:00:00.000Z\",\n            \"state\": \"OPEN\",\n            \"openedAt\": \"2025-11-04T02:10:40.487Z\",\n            \"closedAt\": null,\n            \"createdAt\": \"2025-11-04T02:10:40.488Z\",\n            \"updatedAt\": \"2025-11-04T02:10:40.488Z\"\n        },\n        \"attendance\": {\n            \"id\": \"690960a02f8acf00b06132eb\",\n            \"sessionId\": \"690960a02f8acf00b06132ea\",\n            \"userId\": \"69095c335c45945ed14a6c82\",\n            \"status\": \"PRESENT\",\n            \"note\": \"Hadir mhjxmeu7\",\n            \"createdAt\": \"2025-11-04T02:10:40.795Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Admin Check-In (pick a member)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('2xx/3xx', () => pm.expect(pm.response.code).to.be.within(200,399));",
									"const j = pm.response.json();",
									"pm.test('success', () => pm.expect(j.success).to.be.true);",
									"pm.test('status valid', () => pm.expect(j.data.attendance.status).to.be.oneOf(['PRESENT','LATE','EXCUSED','ABSENT']));",
									"const s=j.data.session;",
									"if(s?.date){ const d=new Date(s.date); const y=d.getFullYear(); const m=String(d.getMonth()+1).padStart(2,'0'); const dd=String(d.getDate()).padStart(2,'0'); pm.environment.set('session_date', `${y}-${m}-${dd}`); }"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"announcementId\":\"{{announcement_id}}\",\"userId\":\"{{member_id}}\",\"status\":\"PRESENT\",\"note\":\"Admin mark {{NOW}}\"}"
						},
						"url": {
							"raw": "{{base_url}}/attendance/admin/check-in",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendance",
								"admin",
								"check-in"
							]
						},
						"description": "Requires ADMIN."
					},
					"response": [
						{
							"name": "Admin Check-In (pick a member)",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer "
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"announcementId\":\"\",\"userId\":\"\",\"status\":\"PRESENT\",\"note\":\"Admin mark {{NOW}}\"}"
								},
								"url": {
									"raw": "http://localhost:4000/api/attendance/admin/check-in",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"attendance",
										"admin",
										"check-in"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "503"
								},
								{
									"key": "ETag",
									"value": "W/\"1f7-KKSF4JdyUyf/l6DNMPgSBbtUB48\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:11:06 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"session\": {\n            \"id\": \"690960a02f8acf00b06132ea\",\n            \"announcementId\": \"69095c375c45945ed14a6ca6\",\n            \"date\": \"2025-11-03T17:00:00.000Z\",\n            \"state\": \"OPEN\",\n            \"openedAt\": \"2025-11-04T02:10:40.487Z\",\n            \"closedAt\": null,\n            \"createdAt\": \"2025-11-04T02:10:40.488Z\",\n            \"updatedAt\": \"2025-11-04T02:10:40.488Z\"\n        },\n        \"attendance\": {\n            \"id\": \"690960b92f8acf00b06132ec\",\n            \"sessionId\": \"690960a02f8acf00b06132ea\",\n            \"userId\": \"69094fa4162749e46a9fb824\",\n            \"status\": \"PRESENT\",\n            \"note\": \"Admin mark mhjxmyel\",\n            \"createdAt\": \"2025-11-04T02:11:05.683Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Session Summary (today or {{session_date}})",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('2xx/3xx', () => pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json();",
									"pm.test('success', () => pm.expect(json.success).to.be.true);",
									"const d = json.data;",
									"pm.test('counts ok', () => {",
									"  pm.expect(d.counts).to.have.property('totalMembers');",
									"  pm.expect(d.counts).to.have.property('present');",
									"  pm.expect(d.counts).to.have.property('absent');",
									"});",
									"pm.test('arrays ok', () => {",
									"  pm.expect(Array.isArray(d.presentUsers)).to.be.true;",
									"  pm.expect(Array.isArray(d.absentUsers)).to.be.true;",
									"});",
									"if (d.session && d.session.date){",
									"  const x = new Date(d.session.date);",
									"  const y = x.getFullYear();",
									"  const m = String(x.getMonth()+1).padStart(2,'0');",
									"  const dd = String(x.getDate()).padStart(2,'0');",
									"  pm.environment.set('session_date', `${y}-${m}-${dd}`);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/attendance/session/summary?announcementId={{announcement_id}}&date={{session_date}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendance",
								"session",
								"summary"
							],
							"query": [
								{
									"key": "announcementId",
									"value": "{{announcement_id}}"
								},
								{
									"key": "date",
									"value": "{{session_date}}"
								}
							]
						},
						"description": "If {{session_date}} empty, backend may resolve today‚Äôs session."
					},
					"response": [
						{
							"name": "Session Summary (today or {{session_date}})",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/attendance/session/summary?announcementId=&date=",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"attendance",
										"session",
										"summary"
									],
									"query": [
										{
											"key": "announcementId",
											"value": ""
										},
										{
											"key": "date",
											"value": ""
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "ETag",
									"value": "W/\"82e-Ej8L57BHYSZ7DhE3+kvpKuJJBr0\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:15:55 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"session\": {\n            \"id\": \"690960a02f8acf00b06132ea\",\n            \"date\": \"2025-11-03T17:00:00.000Z\",\n            \"state\": \"OPEN\",\n            \"openedAt\": \"2025-11-04T02:10:40.487Z\",\n            \"closedAt\": null\n        },\n        \"counts\": {\n            \"totalMembers\": 16,\n            \"present\": 2,\n            \"absent\": 14\n        },\n        \"presentUsers\": [\n            {\n                \"id\": \"69095c335c45945ed14a6c82\",\n                \"name\": \"Muhamad Zidan Indratama\",\n                \"email\": \"zidanindratama03@gmail.com\"\n            }\n        ],\n        \"absentUsers\": [\n            {\n                \"id\": \"69095c345c45945ed14a6c8d\",\n                \"name\": \"Avery Windler\",\n                \"email\": \"avery_windler79+mhjwy5oqrip@mail.test\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c8a\",\n                \"name\": \"Britney Kassulke\",\n                \"email\": \"britney.kassulke+mhjwy5fjto0@mail.test\"\n            },\n            {\n                \"id\": \"69095c355c45945ed14a6c95\",\n                \"name\": \"Cale Satterfield\",\n                \"email\": \"cale.satterfield+mhjwy6c53en@mail.test\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c91\",\n                \"name\": \"Connie Schowalter\",\n                \"email\": \"connie.schowalter8+mhjwy60jwug@dev.local\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c8c\",\n                \"name\": \"Davin Tremblay\",\n                \"email\": \"davin.tremblay+mhjwy5lpc0u@example.com\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c88\",\n                \"name\": \"Elaina Turcotte\",\n                \"email\": \"elaina.turcotte+mhjwy59xoj9@dev.local\"\n            },\n            {\n                \"id\": \"69095c335c45945ed14a6c87\",\n                \"name\": \"Emil D'Amore\",\n                \"email\": \"emil.damore+mhjwy578w0z@dev.local\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c90\",\n                \"name\": \"Fausto Goodwin\",\n                \"email\": \"fausto.goodwin+mhjwy5xlohx@example.com\"\n            },\n            {\n                \"id\": \"69095c355c45945ed14a6c93\",\n                \"name\": \"Henriette Stroman\",\n                \"email\": \"henriette.stroman+mhjwy66qhw6@example.com\"\n            },\n            {\n                \"id\": \"69095c355c45945ed14a6c96\",\n                \"name\": \"Jerald Hamill\",\n                \"email\": \"jerald_hamill+mhjwy6ererq@example.com\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c8b\",\n                \"name\": \"Kristofer Raynor\",\n                \"email\": \"kristofer_raynor+mhjwy5ik1kt@mail.test\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c8f\",\n                \"name\": \"Lauryn Reichert\",\n                \"email\": \"lauryn.reichert+mhjwy5uhmxz@example.com\"\n            },\n            {\n                \"id\": \"69095c355c45945ed14a6c92\",\n                \"name\": \"Madisen Gerhold\",\n                \"email\": \"madisen.gerhold27+mhjwy63kbx6@example.com\"\n            },\n            {\n                \"id\": \"69095c355c45945ed14a6c94\",\n                \"name\": \"Maribel Grimes\",\n                \"email\": \"maribel.grimes81+mhjwy69mbzt@mail.test\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c8e\",\n                \"name\": \"Savanah Williamson\",\n                \"email\": \"savanah_williamson+mhjwy5ro9wp@mail.test\"\n            },\n            {\n                \"id\": \"69095c345c45945ed14a6c89\",\n                \"name\": \"Wilmer Keebler\",\n                \"email\": \"wilmer.keebler54+mhjwy5crivz@example.com\"\n            }\n        ]\n    }\n}"
						}
					]
				},
				{
					"name": "Export Session CSV",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('200', () => pm.expect(pm.response.code).to.equal(200));",
									"pm.test('CSV content-type', () => pm.expect(pm.response.headers.get('Content-Type')).to.include('text/csv'));",
									"pm.test('has header row', () => pm.expect(pm.response.text()).to.match(/^type,name,email\\n/));"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/attendance/session/export?announcementId={{announcement_id}}&date={{session_date}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"attendance",
								"session",
								"export"
							],
							"query": [
								{
									"key": "announcementId",
									"value": "{{announcement_id}}"
								},
								{
									"key": "date",
									"value": "{{session_date}}"
								}
							]
						},
						"description": "Downloads CSV of present/absent users for the session."
					},
					"response": [
						{
							"name": "Export Session CSV",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/attendance/session/export?announcementId=&date=",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"attendance",
										"session",
										"export"
									],
									"query": [
										{
											"key": "announcementId",
											"value": ""
										},
										{
											"key": "date",
											"value": ""
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "text/csv; charset=utf-8"
								},
								{
									"key": "Content-Disposition",
									"value": "attachment; filename=\"attendance-69095c375c45945ed14a6ca6-2025-11-04.csv\""
								},
								{
									"key": "ETag",
									"value": "W/\"42e-LgBec8X4FE1OLK6poh9f/Wg64rg\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:16:16 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "type,name,email\npresent,Muhamad Zidan Indratama,zidanindratama03@gmail.com\nabsent,Avery Windler,avery_windler79+mhjwy5oqrip@mail.test\nabsent,Britney Kassulke,britney.kassulke+mhjwy5fjto0@mail.test\nabsent,Cale Satterfield,cale.satterfield+mhjwy6c53en@mail.test\nabsent,Connie Schowalter,connie.schowalter8+mhjwy60jwug@dev.local\nabsent,Davin Tremblay,davin.tremblay+mhjwy5lpc0u@example.com\nabsent,Elaina Turcotte,elaina.turcotte+mhjwy59xoj9@dev.local\nabsent,Emil D'Amore,emil.damore+mhjwy578w0z@dev.local\nabsent,Fausto Goodwin,fausto.goodwin+mhjwy5xlohx@example.com\nabsent,Henriette Stroman,henriette.stroman+mhjwy66qhw6@example.com\nabsent,Jerald Hamill,jerald_hamill+mhjwy6ererq@example.com\nabsent,Kristofer Raynor,kristofer_raynor+mhjwy5ik1kt@mail.test\nabsent,Lauryn Reichert,lauryn.reichert+mhjwy5uhmxz@example.com\nabsent,Madisen Gerhold,madisen.gerhold27+mhjwy63kbx6@example.com\nabsent,Maribel Grimes,maribel.grimes81+mhjwy69mbzt@mail.test\nabsent,Savanah Williamson,savanah_williamson+mhjwy5ro9wp@mail.test\nabsent,Wilmer Keebler,wilmer.keebler54+mhjwy5crivz@example.com"
						}
					]
				}
			],
			"description": "\n\n## üïí 1. Folder: **Attendance**\n\nFolder **Attendance** berisi seluruh endpoint yang berkaitan dengan **absensi anggota UKM GunaSmash** berdasarkan **jadwal latihan (announcement)**.\n\nTujuan utama folder ini:\n\n* Mencatat kehadiran anggota (otomatis saat waktu latihan berlangsung).\n* Memungkinkan admin untuk menandai kehadiran secara manual.\n* Melihat rekap absensi per sesi.\n* Mengekspor hasil absensi dalam format CSV.\n\n---\n\n## ‚úÖ 2. Endpoint: **POST `/api/attendance/check-in` ‚Üí Member Check-In**\n\n### üìù Deskripsi\n\nDigunakan oleh **anggota (member)** untuk melakukan **absensi mandiri (check-in)** saat sesi latihan sedang berlangsung.\nSistem akan otomatis mengecek apakah waktu sekarang berada di dalam rentang jadwal latihan (`day` dan `time`) yang ada di pengumuman.\n\n---\n\n### üì§ Request\n\n**Method:** `POST`\n**URL:** `/api/attendance/check-in`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_member>\nContent-Type: application/json\n```\n\n**Body (JSON):**\n\n```json\n{\n  \"announcementId\": \"6730a8c12c05b979d96f4d90\",\n  \"note\": \"Hadir tepat waktu\"\n}\n```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"session\": {\n      \"id\": \"6730a9c12c05b979d96f4d95\",\n      \"date\": \"2025-11-03T00:00:00.000Z\",\n      \"openedAt\": \"2025-11-03T08:00:00.000Z\"\n    },\n    \"attendance\": {\n      \"id\": \"6730a9d22c05b979d96f4d99\",\n      \"sessionId\": \"6730a9c12c05b979d96f4d95\",\n      \"userId\": \"6726ec00b4cc2a1e30424e87\",\n      \"status\": \"PRESENT\",\n      \"note\": \"Hadir tepat waktu\"\n    }\n  }\n}\n```\n\n---\n\n### ‚öôÔ∏è Logika Penting\n\n* Sistem hanya mengizinkan check-in **selama jam latihan aktif**.\n* Jika check-in dilakukan di luar waktu, akan muncul pesan error *‚ÄúAttendance is closed for this schedule‚Äù*.\n* Jika user sudah pernah check-in, data akan **di-update** (bukan duplikat).\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab                        |\n| ------ | ------------------------------- |\n| 400    | Body request tidak sesuai       |\n| 401    | Token tidak valid               |\n| 403    | Di luar waktu latihan           |\n| 404    | Announcement ID tidak ditemukan |\n| 500    | Kesalahan server                |\n\n---\n\n## üßæ 3. Endpoint: **POST `/api/attendance/admin/check-in` ‚Üí Admin Check-In (pick a member)**\n\n### üìù Deskripsi\n\nDigunakan oleh **ADMIN** untuk menandai kehadiran anggota tertentu secara manual, misalnya untuk memperbaiki data atau menginput absensi bagi anggota yang lupa check-in.\n\nAdmin dapat memilih:\n\n* `announcementId` ‚Üí jadwal latihan,\n* `userId` ‚Üí anggota yang ingin diabsen,\n* `status` ‚Üí jenis kehadiran (`PRESENT`, `LATE`, `EXCUSED`, `ABSENT`).\n\n---\n\n### üì§ Request\n\n**Method:** `POST`\n**URL:** `/api/attendance/admin/check-in`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\nContent-Type: application/json\n```\n\n**Body (JSON):**\n\n```json\n{\n  \"announcementId\": \"6730a8c12c05b979d96f4d90\",\n  \"userId\": \"6726ec00b4cc2a1e30424e87\",\n  \"date\": \"2025-11-03\",\n  \"status\": \"LATE\",\n  \"note\": \"Datang 15 menit terlambat\"\n}\n```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"session\": {\n      \"id\": \"6730a9c12c05b979d96f4d95\",\n      \"date\": \"2025-11-03T00:00:00.000Z\"\n    },\n    \"attendance\": {\n      \"id\": \"6730a9d22c05b979d96f4d99\",\n      \"userId\": \"6726ec00b4cc2a1e30424e87\",\n      \"status\": \"LATE\",\n      \"note\": \"Datang 15 menit terlambat\"\n    }\n  }\n}\n```\n\n---\n\n### ‚öôÔ∏è Logika Penting\n\n* Jika data absensi untuk user & sesi itu sudah ada ‚Üí akan **di-update**.\n* Jika belum ada ‚Üí sistem otomatis membuat sesi baru untuk tanggal tersebut.\n* Field `date` opsional ‚Üí default ke tanggal hari ini.\n* Field `status` default ke `PRESENT` jika tidak dikirim.\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab                                  |\n| ------ | ----------------------------------------- |\n| 400    | Format tanggal tidak valid (`YYYY-MM-DD`) |\n| 401    | Token tidak valid                         |\n| 403    | Role bukan admin                          |\n| 404    | Announcement ID tidak ditemukan           |\n| 500    | Kesalahan server                          |\n\n---\n\n## üìä 4. Endpoint: **GET `/api/attendance/session/summary` ‚Üí Session Summary (today or {{session_date}})**\n\n### üìù Deskripsi\n\nMenampilkan rekap absensi berdasarkan:\n\n* satu `announcementId`, dan\n* tanggal tertentu (`date` opsional, default: hari ini).\n\nHanya bisa diakses oleh **ADMIN** untuk memantau siapa saja yang hadir, izin, atau tidak hadir.\n\n---\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/attendance/session/summary`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n```\n\n**Query Parameters:**\n\n| Nama             | Wajib | Deskripsi                              |\n| ---------------- | ----- | -------------------------------------- |\n| `announcementId` | ‚úÖ     | ID jadwal latihan                      |\n| `date`           | ‚ùå     | Format tanggal `YYYY-MM-DD` (opsional) |\n| `page`           | ‚ùå     | Nomor halaman daftar peserta           |\n| `limit`          | ‚ùå     | Jumlah data per halaman (default: 20)  |\n\nContoh URL:\n\n```\n/api/attendance/session/summary?announcementId=6730a8c12c05b979d96f4d90&date=2025-11-03\n```\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"session\": {\n      \"id\": \"6730a9c12c05b979d96f4d95\",\n      \"date\": \"2025-11-03T00:00:00.000Z\",\n      \"openedAt\": \"2025-11-03T08:00:00.000Z\",\n      \"closedAt\": null\n    },\n    \"counts\": {\n      \"totalMembers\": 20,\n      \"present\": 15,\n      \"absent\": 5\n    },\n    \"presentUsers\": [\n      { \"id\": \"6726ec00b4cc2a1e30424e87\", \"name\": \"Budi\", \"email\": \"budi@example.com\" },\n      { \"id\": \"6726ec02b4cc2a1e30424e99\", \"name\": \"Rina\", \"email\": \"rina@example.com\" }\n    ],\n    \"absentUsers\": [\n      { \"id\": \"6726ec03b4cc2a1e30424e22\", \"name\": \"Andi\", \"email\": \"andi@example.com\" }\n    ]\n  }\n}\n```\n\n---\n\n### üìò Penjelasan Field\n\n| Field                 | Deskripsi                   |\n| --------------------- | --------------------------- |\n| `session.id`          | ID sesi absensi             |\n| `session.date`        | Tanggal sesi latihan        |\n| `counts.totalMembers` | Jumlah seluruh member aktif |\n| `counts.present`      | Jumlah hadir                |\n| `counts.absent`       | Jumlah tidak hadir          |\n| `presentUsers`        | Daftar anggota yang hadir   |\n| `absentUsers`         | Daftar anggota yang absen   |\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab                        |\n| ------ | ------------------------------- |\n| 400    | Format tanggal salah            |\n| 401    | Token tidak valid               |\n| 403    | Role bukan admin                |\n| 404    | Announcement ID tidak ditemukan |\n\n---\n\n## üì§ 5. Endpoint: **GET `/api/attendance/session/export` ‚Üí Export Session CSV**\n\n### üìù Deskripsi\n\nMengekspor hasil absensi pada satu sesi latihan ke dalam **file CSV**.\nData di dalamnya berisi nama, email, dan status kehadiran anggota (`present` atau `absent`).\n\n---\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/attendance/session/export`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n```\n\n**Query Parameters:**\n\n| Nama             | Wajib | Deskripsi                                  |\n| ---------------- | ----- | ------------------------------------------ |\n| `announcementId` | ‚úÖ     | ID jadwal latihan                          |\n| `date`           | ‚ùå     | Tanggal sesi (opsional, default: hari ini) |\n\nContoh URL:\n\n```\n/api/attendance/session/export?announcementId=6730a8c12c05b979d96f4d90&date=2025-11-03\n```\n\n---\n\n### üì• Contoh Output CSV\n\n```\ntype,name,email\npresent,Budi Santoso,budi@example.com\npresent,Rina Dewi,rina@example.com\nabsent,Andi Rahman,andi@example.com\n```\n\nFile akan otomatis terunduh dengan nama:\n\n```\nattendance-<announcementId>-<date>.csv\n```\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab                        |\n| ------ | ------------------------------- |\n| 401    | Token tidak valid               |\n| 403    | Role bukan admin                |\n| 404    | Announcement ID tidak ditemukan |\n| 500    | Kesalahan server                |\n\n---\n\n### üí° Catatan Umum (untuk folder Attendance)\n\n* Absensi hanya bisa dilakukan **selama jadwal aktif** (diperiksa lewat `day` dan `time` di Announcement).\n* Admin bisa memperbaiki data dengan `Admin Check-In`.\n* Data absensi terhubung langsung dengan **model `AttendanceSession` dan `Announcement`** di database.\n* Format CSV bisa langsung digunakan untuk laporan kehadiran UKM.\n\n---\n\n"
		},
		{
			"name": "Blogs",
			"item": [
				{
					"name": "Create blog",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"function rand(n){ return Math.random().toString(36).substring(2, 2+n); }",
									"function nowSlug(){ return Date.now().toString(36); }",
									"let fStr = pm.globals.get('factory_blog');",
									"let data;",
									"try {",
									"  const f = eval(fStr);",
									"  data = (typeof f === 'function') ? f() : f;",
									"} catch (e) {",
									"const fallback = { title: 'Blog ' + rand(6), slug: 'blog-' + nowSlug() + '-' + rand(4), content: 'Markdown **content** generated at ' + new Date().toISOString(), coverUrl: null, tags: ['news','update'], published: false };",
									"  data = fallback;",
									"}",
									"pm.variables.set('payload', JSON.stringify(data));"
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const item = pm.response.json().data;",
									"pm.environment.set('blog_id', item.id || item._id);",
									"pm.test('stored blog_id', ()=> pm.expect(pm.environment.get('blog_id')).to.be.a('string'));"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{{payload}}"
						},
						"url": {
							"raw": "{{base_url}}/blogs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blogs"
							]
						}
					},
					"response": [
						{
							"name": "Create blog",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{payload}}"
								},
								"url": {
									"raw": "http://localhost:4000/api/blogs",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"blogs"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "354"
								},
								{
									"key": "ETag",
									"value": "W/\"162-6d+BGsipMKHg6sVjSt0dChzWj2Q\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:16:33 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69096201093adb6ab220e3f3\",\n        \"title\": \"Blog cco76c\",\n        \"slug\": \"blog-mhjxtzhl-dsll\",\n        \"content\": \"Markdown **content** generated at 2025-11-04T02:16:33.513Z\",\n        \"coverUrl\": null,\n        \"tags\": [\n            \"news\",\n            \"update\"\n        ],\n        \"createdBy\": \"69095c335c45945ed14a6c82\",\n        \"published\": false,\n        \"createdAt\": \"2025-11-04T02:16:33.546Z\",\n        \"updatedAt\": \"2025-11-04T02:16:33.546Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "List blogs",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const data = pm.response.json().data;",
									"const id = data?.items?.[0]?.id || data?.items?.[0]?._id;",
									"if (id) pm.environment.set('blog_id', id);",
									"pm.test('listed blogs and maybe stored id', ()=> pm.expect(Array.isArray(data.items)).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/blogs?page=1&limit=5&search={{search_term}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blogs"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "5"
								},
								{
									"key": "search",
									"value": "{{search_term}}"
								}
							]
						}
					},
					"response": [
						{
							"name": "List blogs",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/blogs?page=1&limit=5&search=test",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"blogs"
									],
									"query": [
										{
											"key": "page",
											"value": "1"
										},
										{
											"key": "limit",
											"value": "5"
										},
										{
											"key": "search",
											"value": "test"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "ETag",
									"value": "W/\"17e4-1F7IYidVOKWCudedEP3XxEPITDA\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:16:42 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"items\": [\n            {\n                \"id\": \"69095c3a5c45945ed14a6cbd\",\n                \"title\": \"Antiquus Surgo Quo Absque Admoneo\",\n                \"slug\": \"antiquus-surgo-quo-absque-admoneo-mhjwya93-x5ba\",\n                \"content\": \"# Antiquus Surgo Quo Absque Admoneo\\n\\nTalio aureus solitudo voluptas deporto. Comburo auditor nam dolores inventore. Accommodo antea benigne absconditus audax tutis sol arto.\\n\\nCarus summisse decumbo. Facilis canto asporto ars vobis vigor tamisium. Caelestis angelus victus cicuta auditor vesper aro coadunatio.\\n\\nAccedo auctus defetiscor excepturi. Sumptus facere pauci comitatus. Theca conservo enim talio.\\n\\n## Section\\n\\nVoluptas eum textus aetas aliquam porro. Tendo mollitia quae aspicio ipsam impedit. Succedo qui articulus volo peior ascit thymum ara.\\n\\nMagnam argumentum aiunt sponte adhuc. Cariosus videlicet nihil aegrus cunae. Arbustum tabella audentia ubi viduo.\\n\\nSolutio quidem doloremque. Ventito temperantia similique cursus carbo barba bis urbs. Ancilla acer sursum.\\n\\nVerumtamen volup canis. Vix bellum facilis. Optio tyrannus denuo enim xiphias laudantium avaritia aspicio.\\n\\n> Contigo vinitor tibi vinco libero adhuc ullus nihil usque ciminatio umquam averto cilicium arbor.\",\n                \"coverUrl\": null,\n                \"tags\": [\n                    \"update\"\n                ],\n                \"createdBy\": \"69095c335c45945ed14a6c86\",\n                \"published\": true,\n                \"createdAt\": \"2025-10-27T10:09:27.770Z\",\n                \"updatedAt\": \"2025-11-04T01:51:54.473Z\"\n            },\n            {\n                \"id\": \"69095c385c45945ed14a6cad\",\n                \"title\": \"Catena Vulnus Taceo Casso Vulgaris Ustilo\",\n                \"slug\": \"catena-vulnus-taceo-casso-vulgaris-ustilo-mhjwy8og-abg4\",\n                \"content\": \"# Catena Vulnus Taceo Casso Vulgaris Ustilo\\n\\nBrevis vinum deserunt. Centum decerno apparatus ea adnuo administratio spoliatio. Eligendi cena audeo.\\n\\nClibanus defleo aptus antepono amissio aequitas iste. Textor vita asporto appositus delinquo universe tenetur labore aro. Super corrumpo adflicto nulla suppellex sumo.\\n\\nCondico cunabula curiositas amplus. Dignissimos sulum modi cultellus vestigium patrocinor. Usque speculum velum vulgaris bos studio versus accommodo thermae alii.\\n\\n## Section\\n\\nArx adflicto tres apud vigor alioqui tum. Uter tenuis ultio delinquo summopere comis. Candidus ab conventus.\\n\\nAccusantium absens stipes amaritudo aer derelinquo. Voluptatum clementia angulus aegrotatio beatus alveus abduco cinis. Accusamus conspergo trepide cognomen.\\n\\nSuspendo acies vito aptus sunt crastinus ustilo vulgus. Totus despecto vociferor solus. Calculus supellex civis tutis voluptatum absens virtus.\\n\\nDepopulo vesper tergeo carcer alo. Tametsi una credo deprimo delego comburo condico supellex tardus. Tutis tego concedo sulum voluptas veritatis volup adfectus perferendis.\\n\\n> Caritas tutamen tandem compono eius audio abduco velut sui.\",\n                \"coverUrl\": \"https://picsum.photos/seed/blog-2913f3c9-6927-4f63-9e9b-80cfbcdf4782/1200/630\",\n                \"tags\": [\n                    \"guide\",\n                    \"event\",\n                    \"news\"\n                ],\n                \"createdBy\": \"69095c335c45945ed14a6c87\",\n                \"published\": true,\n                \"createdAt\": \"2025-10-20T09:38:17.554Z\",\n                \"updatedAt\": \"2025-11-04T01:51:52.435Z\"\n            },\n            {\n                \"id\": \"69095c385c45945ed14a6cae\",\n                \"title\": \"Aggredior Abstergo Undique Una\",\n                \"slug\": \"aggredior-abstergo-undique-una-mhjwy8t7-v4oq\",\n                \"content\": \"# Aggredior Abstergo Undique Una\\n\\nCogito synagoga attero rem talis. Brevis subseco thalassinus viriliter. Inflammatio arca debilito cavus conscendo.\\n\\nThymbra succurro anser ciminatio vigor defessus quasi accusamus eaque. Adsum ancilla corporis vinco carpo acer tolero ulciscor. Varietas atrox cervus accusator nostrum valens pecto.\\n\\nSuadeo spes aspernatur. Verecundia cruciamentum colligo necessitatibus voluptas surgo texo tenuis vita. Censura campana carbo benevolentia bellicus victus virgo alii advoco.\\n\\n## Section\\n\\nBeneficium deinde aer vomito apud timidus vitae. Alienus officia aperio usque speculum vilitas arbustum defetiscor. Amitto spiculum maxime conqueror cupiditate theca consuasor.\\n\\nVersus aeternus ulterius sperno adsidue vis triumphus tristis veritas verus. Viduo adiuvo uxor defluo. Certe temeritas thymum aggero vergo totidem pariatur suggero coniuratio.\\n\\nArceo desidero terra labore appello tricesimus. Adfero tibi uredo doloremque cras agnosco tribuo abduco. Complectus verecundia deduco valeo alii.\\n\\nPerspiciatis fugiat cohaero depraedor certus defleo tenus quibusdam sponte. Admoveo avarus surculus cumque sol velit tabgo victoria argentum temperantia. Absens adicio ademptio eum tergeo cultellus abduco ater.\\n\\n> Caries ultio correptius eligendi depraedor appono copiose xiphias magni delego inflammatio celebrer maxime suscipit.\",\n                \"coverUrl\": null,\n                \"tags\": [\n                    \"tips\"\n                ],\n                \"createdBy\": \"69095c355c45945ed14a6c95\",\n                \"published\": true,\n                \"createdAt\": \"2025-09-13T07:11:19.821Z\",\n                \"updatedAt\": \"2025-11-04T01:51:52.605Z\"\n            },\n            {\n                \"id\": \"69095c3a5c45945ed14a6cbf\",\n                \"title\": \"Abstergo Teres Verumtamen\",\n                \"slug\": \"abstergo-teres-verumtamen-mhjwyafs-2nhv\",\n                \"content\": \"# Abstergo Teres Verumtamen\\n\\nVomito voro spectaculum vorago angulus. Ullus stultus color. Cubicularis defetiscor molestiae ea porro conatus libero.\\n\\nConturbo cicuta deporto commemoro venio pectus talio adaugeo alter. Cur aedificium thalassinus magni deserunt spero. Comptus demonstro nobis abeo ara cribro adinventitias adopto.\\n\\nPorro carcer vehemens tolero unde defluo tot. Aliquid abutor vigor fugit tabernus arx sublime soleo. Cognomen convoco porro utroque censura allatus communis reprehenderit vulpes atavus.\\n\\n## Section\\n\\nDoloribus tamquam amita thema. Communis adduco turpis. Asperiores angelus demonstro absens textor volo adeptio.\\n\\nPerferendis abstergo teneo caveo solio bellum alias. Utpote temporibus deprecator ancilla bene. Aqua civis iste corpus censura spoliatio aro demens ancilla civis.\\n\\nRerum defungo cinis stella demergo. Creptio sursum modi carmen illum appositus absque studio. Omnis deleniti debeo combibo.\\n\\nVoluptas tener cupio uter et voro voluntarius. Ater tum convoco. Fuga spectaculum comedo undique.\\n\\n> Campana spero delinquo argentum aequus peccatus advoco voluptate barba vos commemoro.\",\n                \"coverUrl\": null,\n                \"tags\": [\n                    \"tech\",\n                    \"tips\",\n                    \"news\",\n                    \"match\"\n                ],\n                \"createdBy\": \"69095c345c45945ed14a6c8e\",\n                \"published\": true,\n                \"createdAt\": \"2025-09-03T00:40:46.431Z\",\n                \"updatedAt\": \"2025-11-04T01:51:54.713Z\"\n            }\n        ],\n        \"meta\": {\n            \"total\": 4,\n            \"page\": 1,\n            \"limit\": 5,\n            \"pages\": 1\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get blog by id",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/blogs/{{blog_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blogs",
								"{{blog_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Get blog by id",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/blogs/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"blogs",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "ETag",
									"value": "W/\"53e-PCr+gRMXPwnskrU7AQuLGeXZa0M\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:16:49 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69095c3a5c45945ed14a6cbd\",\n        \"title\": \"Antiquus Surgo Quo Absque Admoneo\",\n        \"slug\": \"antiquus-surgo-quo-absque-admoneo-mhjwya93-x5ba\",\n        \"content\": \"# Antiquus Surgo Quo Absque Admoneo\\n\\nTalio aureus solitudo voluptas deporto. Comburo auditor nam dolores inventore. Accommodo antea benigne absconditus audax tutis sol arto.\\n\\nCarus summisse decumbo. Facilis canto asporto ars vobis vigor tamisium. Caelestis angelus victus cicuta auditor vesper aro coadunatio.\\n\\nAccedo auctus defetiscor excepturi. Sumptus facere pauci comitatus. Theca conservo enim talio.\\n\\n## Section\\n\\nVoluptas eum textus aetas aliquam porro. Tendo mollitia quae aspicio ipsam impedit. Succedo qui articulus volo peior ascit thymum ara.\\n\\nMagnam argumentum aiunt sponte adhuc. Cariosus videlicet nihil aegrus cunae. Arbustum tabella audentia ubi viduo.\\n\\nSolutio quidem doloremque. Ventito temperantia similique cursus carbo barba bis urbs. Ancilla acer sursum.\\n\\nVerumtamen volup canis. Vix bellum facilis. Optio tyrannus denuo enim xiphias laudantium avaritia aspicio.\\n\\n> Contigo vinitor tibi vinco libero adhuc ullus nihil usque ciminatio umquam averto cilicium arbor.\",\n        \"coverUrl\": null,\n        \"tags\": [\n            \"update\"\n        ],\n        \"createdBy\": \"69095c335c45945ed14a6c86\",\n        \"published\": true,\n        \"createdAt\": \"2025-10-27T10:09:27.770Z\",\n        \"updatedAt\": \"2025-11-04T01:51:54.473Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "Update blog",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const d = pm.response.json().data;",
									"pm.test('published true', ()=> pm.expect(d.published).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"title\":\"Updated Blog {{RANDOM}}\",\"published\":true}"
						},
						"url": {
							"raw": "{{base_url}}/blogs/{{blog_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blogs",
								"{{blog_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Update blog",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"title\":\"Updated Blog {{RANDOM}}\",\"published\":true}"
								},
								"url": {
									"raw": "http://localhost:4000/api/blogs/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"blogs",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "ETag",
									"value": "W/\"52a-sOKJDIqGSL7CbVBU9rlz06vuIqk\""
								},
								{
									"key": "Content-Encoding",
									"value": "br"
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:17:02 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": \"69095c3a5c45945ed14a6cbd\",\n        \"title\": \"Updated Blog ck76mctt\",\n        \"slug\": \"antiquus-surgo-quo-absque-admoneo-mhjwya93-x5ba\",\n        \"content\": \"# Antiquus Surgo Quo Absque Admoneo\\n\\nTalio aureus solitudo voluptas deporto. Comburo auditor nam dolores inventore. Accommodo antea benigne absconditus audax tutis sol arto.\\n\\nCarus summisse decumbo. Facilis canto asporto ars vobis vigor tamisium. Caelestis angelus victus cicuta auditor vesper aro coadunatio.\\n\\nAccedo auctus defetiscor excepturi. Sumptus facere pauci comitatus. Theca conservo enim talio.\\n\\n## Section\\n\\nVoluptas eum textus aetas aliquam porro. Tendo mollitia quae aspicio ipsam impedit. Succedo qui articulus volo peior ascit thymum ara.\\n\\nMagnam argumentum aiunt sponte adhuc. Cariosus videlicet nihil aegrus cunae. Arbustum tabella audentia ubi viduo.\\n\\nSolutio quidem doloremque. Ventito temperantia similique cursus carbo barba bis urbs. Ancilla acer sursum.\\n\\nVerumtamen volup canis. Vix bellum facilis. Optio tyrannus denuo enim xiphias laudantium avaritia aspicio.\\n\\n> Contigo vinitor tibi vinco libero adhuc ullus nihil usque ciminatio umquam averto cilicium arbor.\",\n        \"coverUrl\": null,\n        \"tags\": [],\n        \"createdBy\": \"69095c335c45945ed14a6c86\",\n        \"published\": true,\n        \"createdAt\": \"2025-10-27T10:09:27.770Z\",\n        \"updatedAt\": \"2025-11-04T02:17:02.582Z\"\n    }\n}"
						}
					]
				},
				{
					"name": "Delete blog",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/blogs/{{blog_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"blogs",
								"{{blog_id}}"
							]
						}
					},
					"response": [
						{
							"name": "Delete blog",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:4000/api/blogs/",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"blogs",
										""
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "26"
								},
								{
									"key": "ETag",
									"value": "W/\"1a-pIPrt4esgEyEkX/w62Rnrj9XXdg\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:17:12 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {}\n}"
						}
					]
				}
			],
			"description": "\n\n## üì∞ 1. Folder: **Blogs**\n\nFolder **Blogs** berisi endpoint untuk **mengelola artikel/berita** di GunaSmash.\nSemua pengguna (ADMIN & MEMBER) bisa **membaca/list** blog.\nAksi **CRUD (Create, Update, Delete)** hanya bisa dilakukan oleh **ADMIN**.\n\nSetiap blog memiliki:\n\n* `title`, `slug`, `content`\n* `coverUrl` (opsional)\n* `tags: string[]`\n* `published: boolean`\n* metadata (`createdBy`, `createdAt`, `updatedAt`)\n\n---\n\n## ‚úçÔ∏è 2. Endpoint: **POST `/api/blogs` ‚Üí Create blog** *(ADMIN)*\n\n### üìù Deskripsi\n\nMembuat artikel baru.\n\n### üì§ Request\n\n**Method:** `POST`\n**URL:** `/api/blogs`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\nContent-Type: application/json\n```\n\n**Body (JSON):**\n\n```json\n{\n  \"title\": \"Tips Latihan Bulu Tangkis\",\n  \"slug\": \"tips-latihan-bulutangkis\",\n  \"content\": \"Konten lengkap artikel...\",\n  \"coverUrl\": null,\n  \"tags\": [\"ukm\", \"latihan\", \"info\"],\n  \"published\": true\n}\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"6730b1f62c05b979d96f50aa\",\n    \"title\": \"Tips Latihan Bulu Tangkis\",\n    \"slug\": \"tips-latihan-bulutangkis\",\n    \"content\": \"Konten lengkap artikel...\",\n    \"coverUrl\": null,\n    \"tags\": [\"ukm\",\"latihan\",\"info\"],\n    \"published\": true,\n    \"createdBy\": \"6726ebff52b2e12abffbcd11\",\n    \"createdAt\": \"2025-11-03T09:30:00.000Z\",\n    \"updatedAt\": \"2025-11-03T09:30:00.000Z\"\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab                                                     |\n| ------ | ------------------------------------------------------------ |\n| 400    | Validasi gagal (title/slug/content kosong, dsb.)             |\n| 401    | Token tidak valid                                            |\n| 403    | Role bukan admin                                             |\n| 409    | Slug duplikat (jika ada aturan unik di sisi FE/opsi backend) |\n| 500    | Kesalahan server                                             |\n\n---\n\n## üìÑ 3. Endpoint: **GET `/api/blogs` ‚Üí List blogs**\n\n### üìù Deskripsi\n\nMenampilkan daftar blog.\nMendukung query: **page, limit, search, sort, filter**.\n`search` akan mencari pada **title**, **content**, dan **tags**.\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/blogs`\n\n**Query (opsional):**\n\n| Nama     | Contoh               | Keterangan                 |\n| -------- | -------------------- | -------------------------- |\n| `page`   | `1`                  | Default 1                  |\n| `limit`  | `10`                 | 1‚Äì100                      |\n| `search` | `ukm`                | Cari di title/content/tags |\n| `sort`   | `createdAt:desc`     | Field:Direction            |\n| `filter` | `{\"published\":true}` | JSON string                |\n\nContoh:\n\n```\n/api/blogs?page=1&limit=10&search=latihan&sort=createdAt:desc\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"items\": [\n      {\n        \"id\": \"6730b1f62c05b979d96f50aa\",\n        \"title\": \"Tips Latihan Bulu Tangkis\",\n        \"slug\": \"tips-latihan-bulutangkis\",\n        \"content\": \"Konten lengkap artikel...\",\n        \"coverUrl\": null,\n        \"tags\": [\"ukm\",\"latihan\",\"info\"],\n        \"published\": true,\n        \"createdBy\": \"6726ebff52b2e12abffbcd11\",\n        \"createdAt\": \"2025-11-03T09:30:00.000Z\",\n        \"updatedAt\": \"2025-11-03T09:30:00.000Z\"\n      }\n    ],\n    \"meta\": { \"total\": 8, \"page\": 1, \"limit\": 10, \"pages\": 1 }\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab         |\n| ------ | ---------------- |\n| 500    | Kesalahan server |\n\n---\n\n## üîç 4. Endpoint: **GET `/api/blogs/:id` ‚Üí Get blog by id**\n\n### üìù Deskripsi\n\nMengambil detail blog berdasarkan `id`.\nTerbuka untuk semua pengguna.\n\n### üì§ Request\n\n**Method:** `GET`\n**URL:** `/api/blogs/{id}`\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"6730b1f62c05b979d96f50aa\",\n    \"title\": \"Tips Latihan Bulu Tangkis\",\n    \"slug\": \"tips-latihan-bulutangkis\",\n    \"content\": \"Konten lengkap artikel...\",\n    \"coverUrl\": null,\n    \"tags\": [\"ukm\",\"latihan\",\"info\"],\n    \"published\": true,\n    \"createdBy\": \"6726ebff52b2e12abffbcd11\",\n    \"createdAt\": \"2025-11-03T09:30:00.000Z\",\n    \"updatedAt\": \"2025-11-03T09:30:00.000Z\"\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab             |\n| ------ | -------------------- |\n| 404    | Blog tidak ditemukan |\n| 500    | Kesalahan server     |\n\n---\n\n## ‚úèÔ∏è 5. Endpoint: **PATCH `/api/blogs/:id` ‚Üí Update blog** *(ADMIN)*\n\n### üìù Deskripsi\n\nMemperbarui blog secara **parsial** (hanya field yang dikirim).\nContoh perubahan: judul, konten, cover, tags, published flag.\n\n### üì§ Request\n\n**Method:** `PATCH`\n**URL:** `/api/blogs/{id}`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\nContent-Type: application/json\n```\n\n**Body (contoh):**\n\n```json\n{\n  \"title\": \"Tips Latihan Bulu Tangkis (Update)\",\n  \"published\": false,\n  \"tags\": [\"ukm\",\"info\"]\n}\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"6730b1f62c05b979d96f50aa\",\n    \"title\": \"Tips Latihan Bulu Tangkis (Update)\",\n    \"slug\": \"tips-latihan-bulutangkis\",\n    \"content\": \"Konten lengkap artikel...\",\n    \"coverUrl\": null,\n    \"tags\": [\"ukm\",\"info\"],\n    \"published\": false,\n    \"updatedAt\": \"2025-11-03T10:05:00.000Z\"\n  }\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab             |\n| ------ | -------------------- |\n| 400    | Body tidak valid     |\n| 401    | Token tidak valid    |\n| 403    | Role bukan admin     |\n| 404    | Blog tidak ditemukan |\n| 500    | Kesalahan server     |\n\n---\n\n## üóëÔ∏è 6. Endpoint: **DELETE `/api/blogs/:id` ‚Üí Delete blog** *(ADMIN)*\n\n### üìù Deskripsi\n\nMenghapus blog berdasarkan `id`.\n\n### üì§ Request\n\n**Method:** `DELETE`\n**URL:** `/api/blogs/{id}`\n**Header:**\n\n```\nAuthorization: Bearer <access_token_admin>\n```\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {}\n}\n```\n\n### ‚ö†Ô∏è Error\n\n| Status | Penyebab             |\n| ------ | -------------------- |\n| 401    | Token tidak valid    |\n| 403    | Role bukan admin     |\n| 404    | Blog tidak ditemukan |\n| 500    | Kesalahan server     |\n\n---\n\n### üí° Catatan Umum (Blogs)\n\n* **Slug** sebaiknya unik untuk SEO/URL yang konsisten (disarankan dikontrol di sisi FE saat create).\n* **published** bisa dipakai untuk menyembunyikan artikel dari publik tanpa menghapus data.\n* **coverUrl** dapat diisi dari hasil upload Cloudinary (lihat folder **Uploads**).\n* Semua respons sukses terbungkus di `{ success: true, data: ... }` agar konsisten dengan modul lain.\n\n\n"
		},
		{
			"name": "Uploads",
			"item": [
				{
					"name": "Upload image (form-data)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('HTTP 2xx/3xx', ()=> pm.expect(pm.response.code).to.be.within(200,399));",
									"const json = pm.response.json ? pm.response.json() : null;",
									"pm.test('success flag true', ()=> pm.expect(json && json.success).to.be.true);",
									"const d = pm.response.json().data;",
									"pm.test('has url', ()=> pm.expect(d.url).to.be.a('string'));"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/C:/Users/zidan/Pictures/Screenshots/2.png"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/uploads/image",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"uploads",
								"image"
							]
						}
					},
					"response": [
						{
							"name": "Upload image (form-data)",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "file",
											"type": "file",
											"src": "/C:/Users/zidan/Pictures/Screenshots/2.png"
										}
									]
								},
								"url": {
									"raw": "http://localhost:4000/api/uploads/image",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"uploads",
										"image"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "",
							"header": [
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "Cross-Origin-Opener-Policy",
									"value": "same-origin"
								},
								{
									"key": "Cross-Origin-Resource-Policy",
									"value": "same-origin"
								},
								{
									"key": "Origin-Agent-Cluster",
									"value": "?1"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=31536000; includeSubDomains"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "Vary",
									"value": "Origin, Accept-Encoding"
								},
								{
									"key": "Access-Control-Allow-Credentials",
									"value": "true"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "179"
								},
								{
									"key": "ETag",
									"value": "W/\"b3-5YnNxSbOwOGvmwt/MgQ/uXfF2kI\""
								},
								{
									"key": "Date",
									"value": "Tue, 04 Nov 2025 02:17:55 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"url\": \"https://res.cloudinary.com/zidanindratama/image/upload/v1762222677/gunasmash/fiuqrvr7jbszgadp8hdn.png\",\n        \"publicId\": \"gunasmash/fiuqrvr7jbszgadp8hdn\"\n    }\n}"
						}
					]
				}
			],
			"description": "\n\n## üñºÔ∏è 1. Folder: **Uploads**\n\nFolder **Uploads** berisi endpoint untuk **mengunggah file gambar** ke penyimpanan **Cloudinary**.\nEndpoint ini digunakan oleh **ADMIN maupun MEMBER**, misalnya saat:\n\n* Mengunggah gambar pengumuman,\n* Menambahkan cover blog,\n* Mengubah foto profil, dll.\n\nSemua file yang diunggah akan:\n\n* Disimpan ke Cloudinary,\n* Menghasilkan **URL publik (`imageUrl`)** yang bisa digunakan langsung di front-end,\n* Tersimpan secara otomatis ke folder khusus proyek `GunaSmash`.\n\n---\n\n## üì§ 2. Endpoint: **POST `/api/uploads/image` ‚Üí Upload image (form-data)**\n\n### üìù Deskripsi\n\nMengunggah satu file gambar menggunakan **form-data**.\nFile akan diproses dan dikembalikan dalam bentuk **URL hasil upload ke Cloudinary**.\n\n---\n\n### üîë Hak Akses\n\nSemua pengguna (ADMIN dan MEMBER) yang memiliki token valid dapat mengunggah.\n\n---\n\n### üì§ Request\n\n**Method:** `POST`\n**URL:** `/api/uploads/image`\n**Header:**\n\n```\nAuthorization: Bearer <access_token>\nContent-Type: multipart/form-data\n```\n\n**Form-data:**\n\n| Key    | Type | Wajib | Deskripsi                      |\n| ------ | ---- | ----- | ------------------------------ |\n| `file` | File | ‚úÖ     | File gambar yang akan diunggah |\n\n---\n\n### üì• Contoh Respons (200 OK)\n\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"imageUrl\": \"https://res.cloudinary.com/gunasmash/image/upload/v1730702000/uploads/poster_ukm.jpg\",\n    \"publicId\": \"uploads/poster_ukm\"\n  }\n}\n```\n\n---\n\n### üìò Penjelasan Field\n\n| Field          | Deskripsi                                                     |\n| -------------- | ------------------------------------------------------------- |\n| `imageUrl`     | URL publik hasil upload yang bisa digunakan di front-end      |\n| `publicId`     | ID unik file di Cloudinary (berguna jika ingin dihapus nanti) |\n\n\n---\n\n### ‚ö†Ô∏è Kemungkinan Error\n\n| Status | Penyebab                                            |\n| ------ | --------------------------------------------------- |\n| 400    | Tidak ada file dikirim dalam form-data              |\n| 401    | Token tidak valid / tidak disertakan                |\n| 415    | File bukan tipe gambar (misal .txt, .pdf, dll.)     |\n| 500    | Gagal terhubung ke Cloudinary atau kesalahan server |\n\n---\n\n### üí° Catatan Umum\n\n* Maksimal ukuran file tergantung konfigurasi Cloudinary (biasanya 10 MB).\n* Disarankan hanya menerima file dengan ekstensi `.jpg`, `.jpeg`, `.png`, atau `.webp`.\n* Setelah upload berhasil, gunakan `imageUrl` di field seperti:\n\n  * `Announcement.imageUrl`\n  * `Blog.coverUrl`\n  * atau profil pengguna.\n* Sistem backend otomatis menamai file agar **unik** menggunakan timestamp/random string.\n\n---\n\n"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"/* ===== Collection Pre-request: helpers, factories, auto-bearer ===== */",
					"const env = pm.environment;",
					"",
					"// attach bearer automatically (skip for sign-in/up/refresh)",
					"const path = pm.request.url.getPath();",
					"const skipAuth = /\\/auth\\/(sign-in|sign-up|refresh)/.test(path);",
					"const token = env.get('access_token');",
					"if (!skipAuth && token) {",
					"  pm.request.headers.upsert({ key: 'Authorization', value: 'Bearer ' + token });",
					"}",
					"",
					"// Factories for random payloads",
					"function rand(n){return Math.random().toString(36).substring(2,2+n);}",
					"function nowSlug(){return Date.now().toString(36);}",
					"pm.variables.set('RANDOM', rand(8));",
					"pm.variables.set('NOW', nowSlug());",
					"",
					"pm.globals.set('factory_user', (()=>({",
					"  name: 'User ' + rand(6),",
					"  email: 'user+' + nowSlug() + '@example.com',",
					"  password: 'password123'",
					"})).toString());",
					"",
					"pm.globals.set('factory_announcement', (()=>({",
					"  title: 'Announcement ' + rand(6),",
					"  content: 'This is a seeded announcement at ' + new Date().toISOString(),",
					"  coverUrl: null",
					"})).toString());",
					"",
					"pm.globals.set('factory_blog', (()=>({",
					"  title: 'Blog ' + rand(6),",
					"  slug: 'blog-' + nowSlug() + '-' + rand(4),",
					"  content: 'Markdown **content** generated at ' + new Date().toISOString(),",
					"  coverUrl: null,",
					"  tags: ['news','update'],",
					"  published: false",
					"})).toString());"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"/* ===== Collection Tests: auto-refresh on 401, then retry once ===== */",
					"const env = pm.environment;",
					"const path = pm.request.url.getPath();",
					"const isAuth = /\\/auth\\/(sign-in|sign-up|refresh)/.test(path);",
					"if (pm.response.code === 401 && !isAuth) {",
					"  const tried = env.get('retry_once');",
					"  if (!tried) {",
					"    env.set('retry_once', '1');",
					"    // trigger refresh",
					"    const refreshUrl = pm.environment.get('base_url') + '/auth/refresh';",
					"    pm.sendRequest({ url: refreshUrl, method: 'POST' }, (err, res) => {",
					"      if (!err && res.code === 200) {",
					"        try {",
					"          const json = res.json();",
					"          const t = json?.data?.accessToken || json?.data?.access_token;",
					"          if (t) env.set('access_token', t);",
					"        } catch(e) {}",
					"        // retry same request",
					"        postman.setNextRequest(pm.info.requestName);",
					"      }",
					"    });",
					"  } else {",
					"    env.unset('retry_once');",
					"  }",
					"} else {",
					"  env.unset('retry_once');",
					"}"
				]
			}
		}
	]
}